(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const Xs=!1;var or=Array.isArray,Xn=Array.prototype.indexOf,rs=Array.from,Hr=Object.defineProperty,ft=Object.getOwnPropertyDescriptor,Qs=Object.getOwnPropertyDescriptors,Qn=Object.prototype,ei=Array.prototype,ss=Object.getPrototypeOf,zs=Object.isExtensible;function Mt(r){return typeof r=="function"}const $e=()=>{};function ti(r){return r()}function er(r){for(var e=0;e<r.length;e++)r[e]()}function ri(){var r,e,t=new Promise((s,n)=>{r=s,e=n});return{promise:t,resolve:r,reject:e}}const Oe=2,ns=4,kr=8,Ht=16,rt=32,Tt=64,en=128,je=256,wr=512,ue=1024,Ne=2048,st=4096,We=8192,zt=16384,Or=32768,ar=65536,Rs=1<<17,si=1<<18,is=1<<19,os=1<<20,Kr=1<<21,as=1<<22,Ct=1<<23,St=Symbol("$state"),tn=Symbol("legacy props"),ni=Symbol(""),ls=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ii(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Tr(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function oi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ai(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function li(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ci(r){throw new Error("https://svelte.dev/e/effect_orphan")}function ui(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function fi(r){throw new Error("https://svelte.dev/e/lifecycle_legacy_only")}function di(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function hi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function vi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function pi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const zr=1,Rr=2,rn=4,gi=8,bi=16,_i=1,mi=2,yi=4,wi=8,Ci=16,Si=4,xi=1,Ei=2,ce=Symbol(),ki="http://www.w3.org/1999/xhtml";let Oi=!1;function sn(r){return r===this.v}function nn(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function on(r){return!nn(r,this.v)}let Kt=!1,Ti=!1;function zi(){Kt=!0}let W=null;function Cr(r){W=r}function cs(r,e=!1,t){W={p:W,c:null,e:null,s:r,x:null,l:Kt&&!e?{s:null,u:null,$:[]}:null}}function us(r){var e=W,t=e.e;if(t!==null){e.e=null;for(var s of t)mn(s)}return W=e.p,{}}function Vt(){return!Kt||W!==null&&W.l===null}const Ri=new WeakMap;function Ii(r){var e=j;if(e===null)return q.f|=Ct,r;if((e.f&Or)===0){if((e.f&en)===0)throw!e.parent&&r instanceof Error&&an(r),r;e.b.error(r)}else fs(r,e)}function fs(r,e){for(;e!==null;){if((e.f&en)!==0)try{e.b.error(r);return}catch(t){r=t}e=e.parent}throw r instanceof Error&&an(r),r}function an(r){const e=Ri.get(r);e&&(Hr(r,"message",{value:e.message}),Hr(r,"stack",{value:e.stack}))}let tr=[],Vr=[];function ln(){var r=tr;tr=[],er(r)}function Li(){var r=Vr;Vr=[],er(r)}function ds(r){tr.length===0&&queueMicrotask(ln),tr.push(r)}function Pi(){tr.length>0&&ln(),Vr.length>0&&Li()}function Ai(){for(var r=j.b;r!==null&&!r.has_pending_snippet();)r=r.parent;return r===null&&ii(),r}function Ir(r){var e=Oe|Ne,t=q!==null&&(q.f&Oe)!==0?q:null;return j===null||t!==null&&(t.f&je)!==0?e|=je:j.f|=is,{ctx:W,deps:null,effects:null,equals:sn,f:e,fn:r,reactions:null,rv:0,v:ce,wv:0,parent:t??j,ac:null}}function ji(r,e){let t=j;t===null&&oi();var s=t.b,n=void 0,i=rr(ce),o=null,a=!q;return Yi(()=>{try{var c=r()}catch(g){c=Promise.reject(g)}var u=()=>c;n=o?.then(u,u)??Promise.resolve(c),o=n;var d=F,b=s.pending;a&&(s.update_pending_count(1),b||d.increment());const p=(g,h=void 0)=>{o=null,b||d.activate(),h?h!==ls&&(i.f|=Ct,sr(i,h)):((i.f&Ct)!==0&&(i.f^=Ct),sr(i,g)),a&&(s.update_pending_count(-1),b||d.decrement()),fn()};if(n.then(p,g=>p(null,g||"unknown")),d)return()=>{queueMicrotask(()=>d.neuter())}}),new Promise(c=>{function u(d){function b(){d===n?c(i):u(n)}d.then(b,b)}u(n)})}function hs(r){const e=Ir(r);return e.equals=on,e}function cn(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)tt(e[t])}}function Ni(r){for(var e=r.parent;e!==null;){if((e.f&Oe)===0)return e;e=e.parent}return null}function vs(r){var e,t=j;dt(Ni(r));try{cn(r),e=Tn(r)}finally{dt(t)}return e}function un(r){var e=vs(r);if(r.equals(e)||(r.v=e,r.wv=kn()),!Rt)if(Ft!==null)Ft.set(r,r.v);else{var t=(ut||(r.f&je)!==0)&&r.deps!==null?st:ue;be(r,t)}}function qi(r,e,t){const s=Vt()?Ir:hs;if(e.length===0){t(r.map(s));return}var n=F,i=j,o=Mi(),a=Ai();Promise.all(e.map(c=>ji(c))).then(c=>{n?.activate(),o();try{t([...r.map(s),...c])}catch(u){(i.f&zt)===0&&fs(u,i)}n?.deactivate(),fn()}).catch(c=>{a.error(c)})}function Mi(){var r=j,e=q,t=W;return function(){dt(r),Ye(e),Cr(t)}}function fn(){dt(null),Ye(null),Cr(null)}const Xt=new Set;let F=null,_r=null,Ft=null,Is=new Set,Sr=[];function dn(){const r=Sr.shift();Sr.length>0&&queueMicrotask(dn),r()}let kt=[],Lr=null,Zr=!1,mr=!1;class $t{current=new Map;#n=new Map;#i=new Set;#e=0;#c=null;#u=!1;#r=[];#o=[];#s=[];#t=[];#a=[];#f=[];#d=[];skipped_effects=new Set;process(e){kt=[],_r=null;var t=null;if(Xt.size>1){t=new Map,Ft=new Map;for(const[i,o]of this.current)t.set(i,{v:i.v,wv:i.wv}),i.v=o;for(const i of Xt)if(i!==this)for(const[o,a]of i.#n)t.has(o)||(t.set(o,{v:o.v,wv:o.wv}),o.v=a)}for(const i of e)this.#v(i);if(this.#r.length===0&&this.#e===0){this.#h();var s=this.#s,n=this.#t;this.#s=[],this.#t=[],this.#a=[],_r=F,F=null,Ls(s),Ls(n),F===null?F=this:Xt.delete(this),this.#c?.resolve()}else this.#l(this.#s),this.#l(this.#t),this.#l(this.#a);if(t){for(const[i,{v:o,wv:a}]of t)i.wv<=a&&(i.v=o);Ft=null}for(const i of this.#r)Dt(i);for(const i of this.#o)Dt(i);this.#r=[],this.#o=[]}#v(e){e.f^=ue;for(var t=e.first;t!==null;){var s=t.f,n=(s&(rt|Tt))!==0,i=n&&(s&ue)!==0,o=i||(s&We)!==0||this.skipped_effects.has(t);if(!o&&t.fn!==null){if(n)t.f^=ue;else if((s&ue)===0)if((s&ns)!==0)this.#t.push(t);else if((s&as)!==0){var a=t.b?.pending?this.#o:this.#r;a.push(t)}else lr(t)&&((t.f&Ht)!==0&&this.#a.push(t),Dt(t));var c=t.first;if(c!==null){t=c;continue}}var u=t.parent;for(t=t.next;t===null&&u!==null;)t=u.next,u=u.parent}}#l(e){for(const t of e)((t.f&Ne)!==0?this.#f:this.#d).push(t),be(t,ue);e.length=0}capture(e,t){this.#n.has(e)||this.#n.set(e,t),this.current.set(e,e.v)}activate(){F=this}deactivate(){F=null,_r=null;for(const e of Is)if(Is.delete(e),e(),F!==null)break}neuter(){this.#u=!0}flush(){kt.length>0?hn():this.#h(),F===this&&(this.#e===0&&Xt.delete(this),this.deactivate())}#h(){if(!this.#u)for(const e of this.#i)e();this.#i.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const e of this.#f)be(e,Ne),Ot(e);for(const e of this.#d)be(e,st),Ot(e);this.#s=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(e){this.#i.add(e)}settled(){return(this.#c??=ri()).promise}static ensure(){if(F===null){const e=F=new $t;Xt.add(F),mr||$t.enqueue(()=>{F===e&&e.flush()})}return F}static enqueue(e){Sr.length===0&&queueMicrotask(dn),Sr.unshift(e)}}function Ui(r){var e=mr;mr=!0;try{for(var t;;){if(Pi(),kt.length===0&&(F?.flush(),kt.length===0))return Lr=null,t;hn()}}finally{mr=e}}function hn(){var r=Ut;Zr=!0;try{var e=0;for(As(!0);kt.length>0;){var t=$t.ensure();if(e++>1e3){var s,n;Di()}t.process(kt),xt.clear()}}finally{Zr=!1,As(r),Lr=null}}function Di(){try{ui()}catch(r){fs(r,Lr)}}function Ls(r){var e=r.length;if(e!==0){for(var t=0;t<e;){var s=r[t++];if((s.f&(zt|We))===0&&lr(s)){var n=F?F.current.size:0;if(Dt(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?Cn(s):s.fn=null),F!==null&&F.current.size>n&&(s.f&os)!==0)break}}for(;t<e;)Ot(r[t++])}}function Ot(r){for(var e=Lr=r;e.parent!==null;){e=e.parent;var t=e.f;if(Zr&&e===j&&(t&Ht)!==0)return;if((t&(Tt|rt))!==0){if((t&ue)===0)return;e.f^=ue}}kt.push(e)}const xt=new Map;function rr(r,e){var t={f:0,v:r,reactions:null,equals:sn,rv:0,wv:0};return t}function he(r,e){const t=rr(r);return Qi(t),t}function yr(r,e=!1,t=!0){const s=rr(r);return e||(s.equals=on),Kt&&t&&W!==null&&W.l!==null&&(W.l.s??=[]).push(s),s}function L(r,e,t=!1){q!==null&&(!Ze||(q.f&Rs)!==0)&&Vt()&&(q.f&(Oe|Ht|as|Rs))!==0&&!et?.includes(r)&&pi();let s=t?Ge(e):e;return sr(r,s)}function sr(r,e){if(!r.equals(e)){var t=r.v;Rt?xt.set(r,e):xt.set(r,t),r.v=e;var s=$t.ensure();s.capture(r,t),(r.f&Oe)!==0&&((r.f&Ne)!==0&&vs(r),be(r,(r.f&je)===0?ue:st)),r.wv=kn(),vn(r,Ne),Vt()&&j!==null&&(j.f&ue)!==0&&(j.f&(rt|Tt))===0&&(Pe===null?eo([r]):Pe.push(r))}return e}function Mr(r){L(r,r.v+1)}function vn(r,e){var t=r.reactions;if(t!==null)for(var s=Vt(),n=t.length,i=0;i<n;i++){var o=t[i],a=o.f;if(!(!s&&o===j)){var c=(a&Ne)===0;c&&be(o,e),(a&Oe)!==0?vn(o,st):c&&Ot(o)}}}function Ge(r){if(typeof r!="object"||r===null||St in r)return r;const e=ss(r);if(e!==Qn&&e!==ei)return r;var t=new Map,s=or(r),n=he(0),i=Et,o=a=>{if(Et===i)return a();var c=q,u=Et;Ye(null),Ns(i);var d=a();return Ye(c),Ns(u),d};return s&&t.set("length",he(r.length)),new Proxy(r,{defineProperty(a,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&hi();var d=t.get(c);return d===void 0?d=o(()=>{var b=he(u.value);return t.set(c,b),b}):L(d,u.value,!0),!0},deleteProperty(a,c){var u=t.get(c);if(u===void 0){if(c in a){const d=o(()=>he(ce));t.set(c,d),Mr(n)}}else L(u,ce),Mr(n);return!0},get(a,c,u){if(c===St)return r;var d=t.get(c),b=c in a;if(d===void 0&&(!b||ft(a,c)?.writable)&&(d=o(()=>{var g=Ge(b?a[c]:ce),h=he(g);return h}),t.set(c,d)),d!==void 0){var p=l(d);return p===ce?void 0:p}return Reflect.get(a,c,u)},getOwnPropertyDescriptor(a,c){var u=Reflect.getOwnPropertyDescriptor(a,c);if(u&&"value"in u){var d=t.get(c);d&&(u.value=l(d))}else if(u===void 0){var b=t.get(c),p=b?.v;if(b!==void 0&&p!==ce)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return u},has(a,c){if(c===St)return!0;var u=t.get(c),d=u!==void 0&&u.v!==ce||Reflect.has(a,c);if(u!==void 0||j!==null&&(!d||ft(a,c)?.writable)){u===void 0&&(u=o(()=>{var p=d?Ge(a[c]):ce,g=he(p);return g}),t.set(c,u));var b=l(u);if(b===ce)return!1}return d},set(a,c,u,d){var b=t.get(c),p=c in a;if(s&&c==="length")for(var g=u;g<b.v;g+=1){var h=t.get(g+"");h!==void 0?L(h,ce):g in a&&(h=o(()=>he(ce)),t.set(g+"",h))}if(b===void 0)(!p||ft(a,c)?.writable)&&(b=o(()=>he(void 0)),L(b,Ge(u)),t.set(c,b));else{p=b.v!==ce;var _=o(()=>Ge(u));L(b,_)}var x=Reflect.getOwnPropertyDescriptor(a,c);if(x?.set&&x.set.call(d,u),!p){if(s&&typeof c=="string"){var O=t.get("length"),R=Number(c);Number.isInteger(R)&&R>=O.v&&L(O,R+1)}Mr(n)}return!0},ownKeys(a){l(n);var c=Reflect.ownKeys(a).filter(b=>{var p=t.get(b);return p===void 0||p.v!==ce});for(var[u,d]of t)d.v!==ce&&!(u in a)&&c.push(u);return c},setPrototypeOf(){vi()}})}var Ps,pn,gn,bn;function Bi(){if(Ps===void 0){Ps=window,pn=/Firefox/.test(navigator.userAgent);var r=Element.prototype,e=Node.prototype,t=Text.prototype;gn=ft(e,"firstChild").get,bn=ft(e,"nextSibling").get,zs(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),zs(t)&&(t.__t=void 0)}}function Zt(r=""){return document.createTextNode(r)}function xr(r){return gn.call(r)}function Pr(r){return bn.call(r)}function A(r,e){return xr(r)}function G(r,e){{var t=xr(r);return t instanceof Comment&&t.data===""?Pr(t):t}}function w(r,e=1,t=!1){let s=r;for(;e--;)s=Pr(s);return s}function Fi(r){r.textContent=""}function ps(){return!1}function _n(r){j===null&&q===null&&ci(),q!==null&&(q.f&je)!==0&&j===null&&li(),Rt&&ai()}function $i(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function Je(r,e,t,s=!0){var n=j;n!==null&&(n.f&We)!==0&&(r|=We);var i={ctx:W,deps:null,nodes_start:null,nodes_end:null,f:r|Ne,first:null,fn:e,last:null,next:null,parent:n,b:n&&n.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{Dt(i),i.f|=Or}catch(c){throw tt(i),c}else e!==null&&Ot(i);var o=t&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&is)===0;if(!o&&s&&(n!==null&&$i(i,n),q!==null&&(q.f&Oe)!==0&&(r&Tt)===0)){var a=q;(a.effects??=[]).push(i)}return i}function Wi(r){const e=Je(kr,null,!1);return be(e,ue),e.teardown=r,e}function nr(r){_n();var e=j.f,t=!q&&(e&rt)!==0&&(e&Or)===0;if(t){var s=W;(s.e??=[]).push(r)}else return mn(r)}function mn(r){return Je(ns|os,r,!1)}function Hi(r){return _n(),Je(kr|os,r,!0)}function Ki(r){$t.ensure();const e=Je(Tt,r,!0);return(t={})=>new Promise(s=>{t.outro?Ar(e,()=>{tt(e),s(void 0)}):(tt(e),s(void 0))})}function Vi(r){return Je(ns,r,!1)}function Zi(r,e){var t=W,s={effect:null,ran:!1,deps:r};t.l.$.push(s),s.effect=gs(()=>{r(),!s.ran&&(s.ran=!0,ht(e))})}function Gi(){var r=W;gs(()=>{for(var e of r.l.$){e.deps();var t=e.effect;(t.f&ue)!==0&&be(t,st),lr(t)&&Dt(t),e.ran=!1}})}function Yi(r){return Je(as|is,r,!0)}function gs(r,e=0){return Je(kr|e,r,!0)}function te(r,e=[],t=[]){qi(e,t,s=>{Je(kr,()=>r(...s.map(l)),!0)})}function bs(r,e=0){var t=Je(Ht|e,r,!0);return t}function Wt(r,e=!0){return Je(rt,r,!0,e)}function yn(r){var e=r.teardown;if(e!==null){const t=Rt,s=q;js(!0),Ye(null);try{e.call(null)}finally{js(t),Ye(s)}}}function wn(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){t.ac?.abort(ls);var s=t.next;(t.f&Tt)!==0?t.parent=null:tt(t,e),t=s}}function Ji(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&rt)===0&&tt(e),e=t}}function tt(r,e=!0){var t=!1;(e||(r.f&si)!==0)&&r.nodes_start!==null&&r.nodes_end!==null&&(Xi(r.nodes_start,r.nodes_end),t=!0),wn(r,e&&!t),Er(r,0),be(r,zt);var s=r.transitions;if(s!==null)for(const i of s)i.stop();yn(r);var n=r.parent;n!==null&&n.first!==null&&Cn(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=r.ac=null}function Xi(r,e){for(;r!==null;){var t=r===e?null:Pr(r);r.remove(),r=t}}function Cn(r){var e=r.parent,t=r.prev,s=r.next;t!==null&&(t.next=s),s!==null&&(s.prev=t),e!==null&&(e.first===r&&(e.first=s),e.last===r&&(e.last=t))}function Ar(r,e){var t=[];_s(r,t,!0),Sn(t,()=>{tt(r),e&&e()})}function Sn(r,e){var t=r.length;if(t>0){var s=()=>--t||e();for(var n of r)n.out(s)}else e()}function _s(r,e,t){if((r.f&We)===0){if(r.f^=We,r.transitions!==null)for(const o of r.transitions)(o.is_global||t)&&e.push(o);for(var s=r.first;s!==null;){var n=s.next,i=(s.f&ar)!==0||(s.f&rt)!==0;_s(s,e,i?t:!1),s=n}}}function ms(r){xn(r,!0)}function xn(r,e){if((r.f&We)!==0){r.f^=We,(r.f&ue)===0&&(be(r,Ne),Ot(r));for(var t=r.first;t!==null;){var s=t.next,n=(t.f&ar)!==0||(t.f&rt)!==0;xn(t,n?e:!1),t=s}if(r.transitions!==null)for(const i of r.transitions)(i.is_global||e)&&i.in()}}let Ut=!1;function As(r){Ut=r}let Rt=!1;function js(r){Rt=r}let q=null,Ze=!1;function Ye(r){q=r}let j=null;function dt(r){j=r}let et=null;function Qi(r){q!==null&&(et===null?et=[r]:et.push(r))}let ge=null,Ee=0,Pe=null;function eo(r){Pe=r}let En=1,ir=0,Et=ir;function Ns(r){Et=r}let ut=!1;function kn(){return++En}function lr(r){var e=r.f;if((e&Ne)!==0)return!0;if((e&st)!==0){var t=r.deps,s=(e&je)!==0;if(t!==null){var n,i,o=(e&wr)!==0,a=s&&j!==null&&!ut,c=t.length;if((o||a)&&(j===null||(j.f&zt)===0)){var u=r,d=u.parent;for(n=0;n<c;n++)i=t[n],(o||!i?.reactions?.includes(u))&&(i.reactions??=[]).push(u);o&&(u.f^=wr),a&&d!==null&&(d.f&je)===0&&(u.f^=je)}for(n=0;n<c;n++)if(i=t[n],lr(i)&&un(i),i.wv>r.wv)return!0}(!s||j!==null&&!ut)&&be(r,ue)}return!1}function On(r,e,t=!0){var s=r.reactions;if(s!==null&&!et?.includes(r))for(var n=0;n<s.length;n++){var i=s[n];(i.f&Oe)!==0?On(i,e,!1):e===i&&(t?be(i,Ne):(i.f&ue)!==0&&be(i,st),Ot(i))}}function Tn(r){var e=ge,t=Ee,s=Pe,n=q,i=ut,o=et,a=W,c=Ze,u=Et,d=r.f;ge=null,Ee=0,Pe=null,ut=(d&je)!==0&&(Ze||!Ut||q===null),q=(d&(rt|Tt))===0?r:null,et=null,Cr(r.ctx),Ze=!1,Et=++ir,r.ac!==null&&(r.ac.abort(ls),r.ac=null);try{r.f|=Kr;var b=(0,r.fn)(),p=r.deps;if(ge!==null){var g;if(Er(r,Ee),p!==null&&Ee>0)for(p.length=Ee+ge.length,g=0;g<ge.length;g++)p[Ee+g]=ge[g];else r.deps=p=ge;if(!ut||(d&Oe)!==0&&r.reactions!==null)for(g=Ee;g<p.length;g++)(p[g].reactions??=[]).push(r)}else p!==null&&Ee<p.length&&(Er(r,Ee),p.length=Ee);if(Vt()&&Pe!==null&&!Ze&&p!==null&&(r.f&(Oe|st|Ne))===0)for(g=0;g<Pe.length;g++)On(Pe[g],r);return n!==null&&n!==r&&(ir++,Pe!==null&&(s===null?s=Pe:s.push(...Pe))),(r.f&Ct)!==0&&(r.f^=Ct),b}catch(h){return Ii(h)}finally{r.f^=Kr,ge=e,Ee=t,Pe=s,q=n,ut=i,et=o,Cr(a),Ze=c,Et=u}}function to(r,e){let t=e.reactions;if(t!==null){var s=Xn.call(t,r);if(s!==-1){var n=t.length-1;n===0?t=e.reactions=null:(t[s]=t[n],t.pop())}}t===null&&(e.f&Oe)!==0&&(ge===null||!ge.includes(e))&&(be(e,st),(e.f&(je|wr))===0&&(e.f^=wr),cn(e),Er(e,0))}function Er(r,e){var t=r.deps;if(t!==null)for(var s=e;s<t.length;s++)to(r,t[s])}function Dt(r){var e=r.f;if((e&zt)===0){be(r,ue);var t=j,s=Ut;j=r,Ut=!0;try{(e&Ht)!==0?Ji(r):wn(r),yn(r);var n=Tn(r);r.teardown=typeof n=="function"?n:null,r.wv=En;var i;Xs&&Ti&&(r.f&Ne)!==0&&r.deps}finally{Ut=s,j=t}}}async function zn(){await Promise.resolve(),Ui()}function l(r){var e=r.f,t=(e&Oe)!==0;if(q!==null&&!Ze){var s=j!==null&&(j.f&zt)!==0;if(!s&&!et?.includes(r)){var n=q.deps;if((q.f&Kr)!==0)r.rv<ir&&(r.rv=ir,ge===null&&n!==null&&n[Ee]===r?Ee++:ge===null?ge=[r]:(!ut||!ge.includes(r))&&ge.push(r));else{(q.deps??=[]).push(r);var i=r.reactions;i===null?r.reactions=[q]:i.includes(q)||i.push(q)}}}else if(t&&r.deps===null&&r.effects===null){var o=r,a=o.parent;a!==null&&(a.f&je)===0&&(o.f^=je)}if(Rt){if(xt.has(r))return xt.get(r);if(t){o=r;var c=o.v;return((o.f&ue)===0&&o.reactions!==null||Rn(o))&&(c=vs(o)),xt.set(o,c),c}}else if(t){if(o=r,Ft?.has(o))return Ft.get(o);lr(o)&&un(o)}if((r.f&Ct)!==0)throw r.v;return r.v}function Rn(r){if(r.v===ce)return!0;if(r.deps===null)return!1;for(const e of r.deps)if(xt.has(e)||(e.f&Oe)!==0&&Rn(e))return!0;return!1}function ht(r){var e=Ze;try{return Ze=!0,r()}finally{Ze=e}}const ro=-7169;function be(r,e){r.f=r.f&ro|e}function In(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(St in r)Gr(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&St in t&&Gr(t)}}}function Gr(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let s in r)try{Gr(r[s],e)}catch{}const t=ss(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const s=Qs(t);for(let n in s){const i=s[n].get;if(i)try{i.call(r)}catch{}}}}}const so=["touchstart","touchmove"];function no(r){return so.includes(r)}let qs=!1;function io(){qs||(qs=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{if(!r.defaultPrevented)for(const e of r.target.elements)e.__on_r?.()})},{capture:!0}))}function jr(r){var e=q,t=j;Ye(null),dt(null);try{return r()}finally{Ye(e),dt(t)}}function oo(r,e,t,s=t){r.addEventListener(e,()=>jr(t));const n=r.__on_r;n?r.__on_r=()=>{n(),s(!0)}:r.__on_r=()=>s(!0),io()}const Ln=new Set,Yr=new Set;function ao(r,e,t,s={}){function n(i){if(s.capture||Qt.call(e,i),!i.cancelBubble)return jr(()=>t?.call(this,i))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?ds(()=>{e.addEventListener(r,n,s)}):e.addEventListener(r,n,s),n}function hr(r,e,t,s,n){var i={capture:s,passive:n},o=ao(r,e,t,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Wi(()=>{e.removeEventListener(r,o,i)})}function lo(r){for(var e=0;e<r.length;e++)Ln.add(r[e]);for(var t of Yr)t(r)}let Ms=null;function Qt(r){var e=this,t=e.ownerDocument,s=r.type,n=r.composedPath?.()||[],i=n[0]||r.target;Ms=r;var o=0,a=Ms===r&&r.__root;if(a){var c=n.indexOf(a);if(c!==-1&&(e===document||e===window)){r.__root=e;return}var u=n.indexOf(e);if(u===-1)return;c<=u&&(o=c)}if(i=n[o]||r.target,i!==e){Hr(r,"currentTarget",{configurable:!0,get(){return i||t}});var d=q,b=j;Ye(null),dt(null);try{for(var p,g=[];i!==null;){var h=i.assignedSlot||i.parentNode||i.host||null;try{var _=i["__"+s];if(_!=null&&(!i.disabled||r.target===i))if(or(_)){var[x,...O]=_;x.apply(i,[r,...O])}else _.call(i,r)}catch(R){p?g.push(R):p=R}if(r.cancelBubble||h===e||h===null)break;i=h}if(p){for(let R of g)queueMicrotask(()=>{throw R});throw p}}finally{r.__root=e,delete r.currentTarget,Ye(d),dt(b)}}}function co(r){var e=document.createElement("template");return e.innerHTML=r.replaceAll("<!>","<!---->"),e.content}function Jr(r,e){var t=j;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function M(r,e){var t=(e&xi)!==0,s=(e&Ei)!==0,n,i=!r.startsWith("<!>");return()=>{n===void 0&&(n=co(i?r:"<!>"+r),t||(n=xr(n)));var o=s||pn?document.importNode(n,!0):n.cloneNode(!0);if(t){var a=xr(o),c=o.lastChild;Jr(a,c)}else Jr(o,o);return o}}function Ae(){var r=document.createDocumentFragment(),e=document.createComment(""),t=Zt();return r.append(e,t),Jr(e,t),r}function z(r,e){r!==null&&r.before(e)}let Xr=!0;function lt(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??=r.nodeValue)&&(r.__t=t,r.nodeValue=t+"")}function uo(r,e){return fo(r,e)}const Nt=new Map;function fo(r,{target:e,anchor:t,props:s={},events:n,context:i,intro:o=!0}){Bi();var a=new Set,c=b=>{for(var p=0;p<b.length;p++){var g=b[p];if(!a.has(g)){a.add(g);var h=no(g);e.addEventListener(g,Qt,{passive:h});var _=Nt.get(g);_===void 0?(document.addEventListener(g,Qt,{passive:h}),Nt.set(g,1)):Nt.set(g,_+1)}}};c(rs(Ln)),Yr.add(c);var u=void 0,d=Ki(()=>{var b=t??e.appendChild(Zt());return Wt(()=>{if(i){cs({});var p=W;p.c=i}n&&(s.$$events=n),Xr=o,u=r(b,s)||{},Xr=!0,i&&us()}),()=>{for(var p of a){e.removeEventListener(p,Qt);var g=Nt.get(p);--g===0?(document.removeEventListener(p,Qt),Nt.delete(p)):Nt.set(p,g)}Yr.delete(c),b!==t&&b.parentNode?.removeChild(b)}});return ho.set(u,d),u}let ho=new WeakMap;function J(r,e,t=!1){var s=r,n=null,i=null,o=ce,a=t?ar:0,c=!1;const u=(g,h=!0)=>{c=!0,p(h,g)};var d=null;function b(){d!==null&&(d.lastChild.remove(),s.before(d),d=null);var g=o?n:i,h=o?i:n;g&&ms(g),h&&Ar(h,()=>{o?i=null:n=null})}const p=(g,h)=>{if(o!==(o=g)){var _=ps(),x=s;if(_&&(d=document.createDocumentFragment(),d.append(x=Zt())),o?n??=h&&Wt(()=>h(x)):i??=h&&Wt(()=>h(x)),_){var O=F,R=o?n:i,S=o?i:n;R&&O.skipped_effects.delete(R),S&&O.skipped_effects.add(S),O.add_callback(b)}else b()}};bs(()=>{c=!1,e(u),c||p(null,null)},a)}function Ur(r,e){return e}function vo(r,e,t){for(var s=r.items,n=[],i=e.length,o=0;o<i;o++)_s(e[o].e,n,!0);var a=i>0&&n.length===0&&t!==null;if(a){var c=t.parentNode;Fi(c),c.append(t),s.clear(),Ve(r,e[0].prev,e[i-1].next)}Sn(n,()=>{for(var u=0;u<i;u++){var d=e[u];a||(s.delete(d.k),Ve(r,d.prev,d.next)),tt(d.e,!a)}})}function vr(r,e,t,s,n,i=null){var o=r,a={flags:e,items:new Map,first:null},c=(e&rn)!==0;if(c){var u=r;o=u.appendChild(Zt())}var d=null,b=!1,p=new Map,g=hs(()=>{var O=t();return or(O)?O:O==null?[]:rs(O)}),h,_;function x(){po(_,h,a,p,o,n,e,s,t),i!==null&&(h.length===0?d?ms(d):d=Wt(()=>i(o)):d!==null&&Ar(d,()=>{d=null}))}bs(()=>{_??=j,h=l(g);var O=h.length;if(!(b&&O===0)){b=O===0;var R,S,H,E;if(ps()){var y=new Set,C=F;for(S=0;S<O;S+=1){H=h[S],E=s(H,S);var D=a.items.get(E)??p.get(E);D?(e&(zr|Rr))!==0&&Pn(D,H,S,e):(R=An(null,a,null,null,H,E,S,n,e,t,!0),p.set(E,R)),y.add(E)}for(const[N,ee]of a.items)y.has(N)||C.skipped_effects.add(ee.e);C.add_callback(x)}else x();l(g)}})}function po(r,e,t,s,n,i,o,a,c){var u=(o&gi)!==0,d=(o&(zr|Rr))!==0,b=e.length,p=t.items,g=t.first,h=g,_,x=null,O,R=[],S=[],H,E,y,C;if(u)for(C=0;C<b;C+=1)H=e[C],E=a(H,C),y=p.get(E),y!==void 0&&(y.a?.measure(),(O??=new Set).add(y));for(C=0;C<b;C+=1){if(H=e[C],E=a(H,C),y=p.get(E),y===void 0){var D=s.get(E);if(D!==void 0){s.delete(E),p.set(E,D);var N=x?x.next:h;Ve(t,x,D),Ve(t,D,N),Dr(D,N,n),x=D}else{var ee=h?h.e.nodes_start:n;x=An(ee,t,x,x===null?t.first:x.next,H,E,C,i,o,c)}p.set(E,x),R=[],S=[],h=x.next;continue}if(d&&Pn(y,H,C,o),(y.e.f&We)!==0&&(ms(y.e),u&&(y.a?.unfix(),(O??=new Set).delete(y))),y!==h){if(_!==void 0&&_.has(y)){if(R.length<S.length){var He=S[0],qe;x=He.prev;var cr=R[0],It=R[R.length-1];for(qe=0;qe<R.length;qe+=1)Dr(R[qe],He,n);for(qe=0;qe<S.length;qe+=1)_.delete(S[qe]);Ve(t,cr.prev,It.next),Ve(t,x,cr),Ve(t,It,He),h=He,x=It,C-=1,R=[],S=[]}else _.delete(y),Dr(y,h,n),Ve(t,y.prev,y.next),Ve(t,y,x===null?t.first:x.next),Ve(t,x,y),x=y;continue}for(R=[],S=[];h!==null&&h.k!==E;)(h.e.f&We)===0&&(_??=new Set).add(h),S.push(h),h=h.next;if(h===null)continue;y=h}R.push(y),x=y,h=y.next}if(h!==null||_!==void 0){for(var vt=_===void 0?[]:rs(_);h!==null;)(h.e.f&We)===0&&vt.push(h),h=h.next;var pt=vt.length;if(pt>0){var Gt=(o&rn)!==0&&b===0?n:null;if(u){for(C=0;C<pt;C+=1)vt[C].a?.measure();for(C=0;C<pt;C+=1)vt[C].a?.fix()}vo(t,vt,Gt)}}u&&ds(()=>{if(O!==void 0)for(y of O)y.a?.apply()}),r.first=t.first&&t.first.e,r.last=x&&x.e;for(var Yt of s.values())tt(Yt.e);s.clear()}function Pn(r,e,t,s){(s&zr)!==0&&sr(r.v,e),(s&Rr)!==0?sr(r.i,t):r.i=t}function An(r,e,t,s,n,i,o,a,c,u,d){var b=(c&zr)!==0,p=(c&bi)===0,g=b?p?yr(n,!1,!1):rr(n):n,h=(c&Rr)===0?o:rr(o),_={i:h,v:g,k:i,a:null,e:null,prev:t,next:s};try{if(r===null){var x=document.createDocumentFragment();x.append(r=Zt())}return _.e=Wt(()=>a(r,g,h,u),Oi),_.e.prev=t&&t.e,_.e.next=s&&s.e,t===null?d||(e.first=_):(t.next=_,t.e.next=_.e),s!==null&&(s.prev=_,s.e.prev=_.e),_}finally{}}function Dr(r,e,t){for(var s=r.next?r.next.e.nodes_start:t,n=e?e.e.nodes_start:t,i=r.e.nodes_start;i!==null&&i!==s;){var o=Pr(i);n.before(i),i=o}}function Ve(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Us(r,e,t){var s=r,n,i,o=null,a=null;function c(){i&&(Ar(i),i=null),o&&(o.lastChild.remove(),s.before(o),o=null),i=a,a=null}bs(()=>{if(n!==(n=e())){var u=ps();if(n){var d=s;u&&(o=document.createDocumentFragment(),o.append(d=Zt())),a=Wt(()=>t(d,n))}u?F.add_callback(c):c()}},ar)}function go(r,e,t){var s=r==null?"":""+r;return s=s?s+" "+e:e,s===""?null:s}function bo(r,e){return r==null?null:String(r)}function _o(r,e,t,s,n,i){var o=r.__className;if(o!==t||o===void 0){var a=go(t,s);a==null?r.removeAttribute("class"):r.className=a,r.__className=t}return i}function ie(r,e,t,s){var n=r.__style;if(n!==e){var i=bo(e);i==null?r.removeAttribute("style"):r.style.cssText=i,r.__style=e}return s}const mo=Symbol("is custom element"),yo=Symbol("is html");function Z(r,e,t,s){var n=wo(r);n[e]!==(n[e]=t)&&(e==="loading"&&(r[ni]=t),t==null?r.removeAttribute(e):typeof t!="string"&&Co(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function wo(r){return r.__attributes??={[mo]:r.nodeName.includes("-"),[yo]:r.namespaceURI===ki}}var Ds=new Map;function Co(r){var e=Ds.get(r.nodeName);if(e)return e;Ds.set(r.nodeName,e=[]);for(var t,s=r,n=Element.prototype;n!==s;){t=Qs(s);for(var i in t)t[i].set&&e.push(i);s=ss(s)}return e}const So=()=>performance.now(),Qe={tick:r=>requestAnimationFrame(r),now:()=>So(),tasks:new Set};function jn(){const r=Qe.now();Qe.tasks.forEach(e=>{e.c(r)||(Qe.tasks.delete(e),e.f())}),Qe.tasks.size!==0&&Qe.tick(jn)}function xo(r){let e;return Qe.tasks.size===0&&Qe.tick(jn),{promise:new Promise(t=>{Qe.tasks.add(e={c:r,f:t})}),abort(){Qe.tasks.delete(e)}}}function pr(r,e){jr(()=>{r.dispatchEvent(new CustomEvent(e))})}function Eo(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Bs(r){const e={},t=r.split(";");for(const s of t){const[n,i]=s.split(":");if(!n||i===void 0)break;const o=Eo(n.trim());e[o]=i.trim()}return e}const ko=r=>r;function Oo(r,e,t,s){var n=(r&Si)!==0,i="both",o,a=e.inert,c=e.style.overflow,u,d;function b(){return jr(()=>o??=t()(e,s?.()??{},{direction:i}))}var p={is_global:n,in(){e.inert=a,pr(e,"introstart"),u=Qr(e,b(),d,1,()=>{pr(e,"introend"),u?.abort(),u=o=void 0,e.style.overflow=c})},out(x){e.inert=!0,pr(e,"outrostart"),d=Qr(e,b(),u,0,()=>{pr(e,"outroend"),x?.()})},stop:()=>{u?.abort(),d?.abort()}},g=j;if((g.transitions??=[]).push(p),Xr){var h=n;if(!h){for(var _=g.parent;_&&(_.f&ar)!==0;)for(;(_=_.parent)&&(_.f&Ht)===0;);h=!_||(_.f&Or)!==0}h&&Vi(()=>{ht(()=>p.in())})}}function Qr(r,e,t,s,n){var i=s===1;if(Mt(e)){var o,a=!1;return ds(()=>{if(!a){var x=e({direction:i?"in":"out"});o=Qr(r,x,t,s,n)}}),{abort:()=>{a=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t?.deactivate(),!e?.duration)return n(),{abort:$e,deactivate:$e,reset:$e,t:()=>s};const{delay:c=0,css:u,tick:d,easing:b=ko}=e;var p=[];if(i&&t===void 0&&(d&&d(0,1),u)){var g=Bs(u(0,1));p.push(g,g)}var h=()=>1-s,_=r.animate(p,{duration:c,fill:"forwards"});return _.onfinish=()=>{_.cancel();var x=t?.t()??1-s;t?.abort();var O=s-x,R=e.duration*Math.abs(O),S=[];if(R>0){var H=!1;if(u)for(var E=Math.ceil(R/16.666666666666668),y=0;y<=E;y+=1){var C=x+O*b(y/E),D=Bs(u(C,1-C));S.push(D),H||=D.overflow==="hidden"}H&&(r.style.overflow="hidden"),h=()=>{var N=_.currentTime;return x+O*b(N/R)},d&&xo(()=>{if(_.playState!=="running")return!1;var N=h();return d(N,1-N),!0})}_=r.animate(S,{duration:R,fill:"forwards"}),_.onfinish=()=>{h=()=>s,d?.(s,1-s),n()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=$e)},deactivate:()=>{n=$e},reset:()=>{s===0&&d?.(1,0)},t:()=>h()}}function re(r,e,t=e){var s=Vt(),n=new WeakSet;oo(r,"input",i=>{var o=i?r.defaultValue:r.value;if(o=Br(r)?Fr(o):o,t(o),F!==null&&n.add(F),s&&o!==(o=e())){var a=r.selectionStart,c=r.selectionEnd;r.value=o??"",c!==null&&(r.selectionStart=a,r.selectionEnd=Math.min(c,r.value.length))}}),ht(e)==null&&r.value&&(t(Br(r)?Fr(r.value):r.value),F!==null&&n.add(F)),gs(()=>{var i=e();if(r===document.activeElement){var o=_r??F;if(n.has(o))return}Br(r)&&i===Fr(r.value)||r.type==="date"&&!i&&!r.value||i!==r.value&&(r.value=i??"")})}function Br(r){var e=r.type;return e==="number"||e==="range"}function Fr(r){return r===""?null:+r}function To(r=!1){const e=W,t=e.l.u;if(!t)return;let s=()=>In(e.s);if(r){let n=0,i={};const o=Ir(()=>{let a=!1;const c=e.s;for(const u in c)c[u]!==i[u]&&(i[u]=c[u],a=!0);return a&&n++,n});s=()=>l(o)}t.b.length&&Hi(()=>{Fs(e,s),er(t.b)}),nr(()=>{const n=ht(()=>t.m.map(ti));return()=>{for(const i of n)typeof i=="function"&&i()}}),t.a.length&&nr(()=>{Fs(e,s),er(t.a)})}function Fs(r,e){if(r.l.s)for(const t of r.l.s)l(t);e()}function $s(r,e){var t=r.$$events?.[e.type],s=or(t)?t.slice():t==null?[]:[t];for(var n of s)n.call(this,e)}function zo(r,e,t){if(r==null)return e(void 0),t&&t(void 0),$e;const s=ht(()=>r.subscribe(e,t));return s.unsubscribe?()=>s.unsubscribe():s}const qt=[];function Nn(r,e){return{subscribe:qn(r,e).subscribe}}function qn(r,e=$e){let t=null;const s=new Set;function n(a){if(nn(r,a)&&(r=a,t)){const c=!qt.length;for(const u of s)u[1](),qt.push(u,r);if(c){for(let u=0;u<qt.length;u+=2)qt[u][0](qt[u+1]);qt.length=0}}}function i(a){n(a(r))}function o(a,c=$e){const u=[a,c];return s.add(u),s.size===1&&(t=e(n,i)||$e),a(r),()=>{s.delete(u),s.size===0&&t&&(t(),t=null)}}return{set:n,update:i,subscribe:o}}function Mn(r,e,t){const s=!Array.isArray(r),n=s?[r]:r;if(!n.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return Nn(t,(o,a)=>{let c=!1;const u=[];let d=0,b=$e;const p=()=>{if(d)return;b();const h=e(s?u[0]:u,o,a);i?o(h):b=typeof h=="function"?h:$e},g=n.map((h,_)=>zo(h,x=>{u[_]=x,d&=~(1<<_),c&&p()},()=>{d|=1<<_}));return c=!0,p(),function(){er(g),b(),c=!1}})}let gr=!1;function Ro(r){var e=gr;try{return gr=!1,[r(),gr]}finally{gr=e}}const Io={get(r,e){let t=r.props.length;for(;t--;){let s=r.props[t];if(Mt(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(r,e,t){let s=r.props.length;for(;s--;){let n=r.props[s];Mt(n)&&(n=n());const i=ft(n,e);if(i&&i.set)return i.set(t),!0}return!1},getOwnPropertyDescriptor(r,e){let t=r.props.length;for(;t--;){let s=r.props[t];if(Mt(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const n=ft(s,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(r,e){if(e===St||e===tn)return!1;for(let t of r.props)if(Mt(t)&&(t=t()),t!=null&&e in t)return!0;return!1},ownKeys(r){const e=[];for(let t of r.props)if(Mt(t)&&(t=t()),!!t){for(const s in t)e.includes(s)||e.push(s);for(const s of Object.getOwnPropertySymbols(t))e.includes(s)||e.push(s)}return e}};function Ws(...r){return new Proxy({props:r},Io)}function $r(r,e,t,s){var n=!Kt||(t&mi)!==0,i=(t&wi)!==0,o=(t&Ci)!==0,a=s,c=!0,u=()=>(c&&(c=!1,a=o?ht(s):s),a),d;if(i){var b=St in r||tn in r;d=ft(r,e)?.set??(b&&e in r?S=>r[e]=S:void 0)}var p,g=!1;i?[p,g]=Ro(()=>r[e]):p=r[e],p===void 0&&s!==void 0&&(p=u(),d&&(n&&di(),d(p)));var h;if(n?h=()=>{var S=r[e];return S===void 0?u():(c=!0,S)}:h=()=>{var S=r[e];return S!==void 0&&(a=void 0),S===void 0?a:S},n&&(t&yi)===0)return h;if(d){var _=r.$$legacy;return function(S,H){return arguments.length>0?((!n||!H||_||g)&&d(H?h():S),S):h()}}var x=!1,O=((t&_i)!==0?Ir:hs)(()=>(x=!1,h()));i&&l(O);var R=j;return function(S,H){if(arguments.length>0){const E=H?l(O):n&&i?Ge(S):S;return L(O,E),x=!0,a!==void 0&&(a=E),S}return Rt&&x||(R.f&zt)!==0?O.v:l(O)}}function Un(r){W===null&&Tr(),Kt&&W.l!==null?Dn(W).m.push(r):nr(()=>{const e=ht(r);if(typeof e=="function")return e})}function Lo(r){W===null&&Tr(),Un(()=>()=>ht(r))}function Po(r,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:s})}function Ao(){const r=W;return r===null&&Tr(),(e,t,s)=>{const n=r.s.$$events?.[e];if(n){const i=or(n)?n.slice():[n],o=Po(e,t,s);for(const a of i)a.call(r.x,o);return!o.defaultPrevented}return!0}}function jo(r){W===null&&Tr(),W.l===null&&fi(),Dn(W).a.push(r)}function Dn(r){var e=r.l;return e.u??={a:[],b:[],m:[]}}const No="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(No);zi();function qo(r){const e=r-1;return e*e*e+1}function Mo(r,{delay:e=0,duration:t=400,easing:s=qo,start:n=0,opacity:i=0}={}){const o=getComputedStyle(r),a=+o.opacity,c=o.transform==="none"?"":o.transform,u=1-n,d=a*(1-i);return{delay:e,duration:t,easing:s,css:(b,p)=>`
			transform: ${c} scale(${1-u*p});
			opacity: ${a-d*p}
		`}}class ke extends Error{constructor(e){super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,ke.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof ke||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=this.response?.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":this.originalError?.cause?.message?.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong."),this.cause=this.originalError}get data(){return this.response}toJSON(){return{...this}}}const br=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Uo(r,e){const t={};if(typeof r!="string")return t;const s=Object.assign({},{}).decode||Do;let n=0;for(;n<r.length;){const i=r.indexOf("=",n);if(i===-1)break;let o=r.indexOf(";",n);if(o===-1)o=r.length;else if(o<i){n=r.lastIndexOf(";",i-1)+1;continue}const a=r.slice(n,i).trim();if(t[a]===void 0){let c=r.slice(i+1,o).trim();c.charCodeAt(0)===34&&(c=c.slice(1,-1));try{t[a]=s(c)}catch{t[a]=c}}n=o+1}return t}function Hs(r,e,t){const s=Object.assign({},t||{}),n=s.encode||Bo;if(!br.test(r))throw new TypeError("argument name is invalid");const i=n(e);if(i&&!br.test(i))throw new TypeError("argument val is invalid");let o=r+"="+i;if(s.maxAge!=null){const a=s.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(s.domain){if(!br.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain="+s.domain}if(s.path){if(!br.test(s.path))throw new TypeError("option path is invalid");o+="; Path="+s.path}if(s.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(s.expires)||isNaN(s.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.priority)switch(typeof s.priority=="string"?s.priority.toLowerCase():s.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function Do(r){return r.indexOf("%")!==-1?decodeURIComponent(r):r}function Bo(r){return encodeURIComponent(r)}const Fo=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let Bn;function Bt(r){if(r)try{const e=decodeURIComponent(Bn(r.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Fn(r,e=0){let t=Bt(r);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Bn=typeof atob!="function"||Fo?r=>{let e=String(r).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,s,n=0,i=0,o="";s=e.charAt(i++);~s&&(t=n%4?64*t+s:s,n++%4)?o+=String.fromCharCode(255&t>>(-2*n&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return o}:atob;const Ks="pb_auth";class ys{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!Fn(this.token)}get isSuperuser(){let e=Bt(this.token);return e.type=="auth"&&(this.record?.collectionName=="_superusers"||!this.record?.collectionName&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),Bt(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=Ks){const s=Uo(e||"")[t]||"";let n={};try{n=JSON.parse(s),(typeof n===null||typeof n!="object"||Array.isArray(n))&&(n={})}catch{}this.save(n.token||"",n.record||n.model||null)}exportToCookie(e,t=Ks){const s={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},n=Bt(this.token);s.expires=n?.exp?new Date(1e3*n.exp):new Date("1970-01-01"),e=Object.assign({},s,e);const i={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let o=Hs(t,JSON.stringify(i),e);const a=typeof Blob<"u"?new Blob([o]).size:o.length;if(i.record&&a>4096){i.record={id:i.record?.id,email:i.record?.email};const c=["collectionId","collectionName","verified"];for(const u in this.record)c.includes(u)&&(i.record[u]=this.record[u]);o=Hs(t,JSON.stringify(i),e)}return o}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let s=this._onChangeCallbacks.length-1;s>=0;s--)if(this._onChangeCallbacks[s]==e)return delete this._onChangeCallbacks[s],void this._onChangeCallbacks.splice(s,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class $o extends ys{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&window?.localStorage){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&window?.localStorage){let s=t;typeof t!="string"&&(s=JSON.stringify(t)),window.localStorage.setItem(e,s)}else this.storageFallback[e]=t}_storageRemove(e){typeof window<"u"&&window?.localStorage&&window.localStorage?.removeItem(e),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&window?.localStorage&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)})}}class nt{constructor(e){this.client=e}}class Wo extends nt{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,s,n){return n=Object.assign({method:"POST",body:{email:t,template:s,collection:e}},n),this.client.send("/api/settings/test/email",n).then(()=>!0)}async generateAppleClientSecret(e,t,s,n,i,o){return o=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:s,privateKey:n,duration:i}},o),this.client.send("/api/settings/apple/generate-client-secret",o)}}const Ho=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function ws(r){if(r){r.query=r.query||{};for(let e in r)Ho.includes(e)||(r.query[e]=r[e],delete r[e])}}function $n(r){const e=[];for(const t in r){const s=encodeURIComponent(t),n=Array.isArray(r[t])?r[t]:[r[t]];for(let i of n)i=Ko(i),i!==null&&e.push(s+"="+i)}return e.join("&")}function Ko(r){return r==null?null:r instanceof Date?encodeURIComponent(r.toISOString().replace("T"," ")):encodeURIComponent(typeof r=="object"?JSON.stringify(r):r)}class Wn extends nt{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,s){if(!e)throw new Error("topic must be set.");let n=e;if(s){ws(s=Object.assign({},s));const o="options="+encodeURIComponent(JSON.stringify({query:s.query,headers:s.headers}));n+=(n.includes("?")?"&":"?")+o}const i=function(o){const a=o;let c;try{c=JSON.parse(a?.data)}catch{}t(c||{})};return this.subscriptions[n]||(this.subscriptions[n]=[]),this.subscriptions[n].push(i),this.isConnected?this.subscriptions[n].length===1?await this.submitSubscriptions():this.eventSource?.addEventListener(n,i):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,i)}async unsubscribe(e){let t=!1;if(e){const s=this.getSubscriptionsByTopic(e);for(let n in s)if(this.hasSubscriptionListeners(n)){for(let i of this.subscriptions[n])this.eventSource?.removeEventListener(n,i);delete this.subscriptions[n],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){let t=!1;for(let s in this.subscriptions)if((s+"?").startsWith(e)){t=!0;for(let n of this.subscriptions[s])this.eventSource?.removeEventListener(s,n);delete this.subscriptions[s]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){let s=!1;const n=this.getSubscriptionsByTopic(e);for(let i in n){if(!Array.isArray(this.subscriptions[i])||!this.subscriptions[i].length)continue;let o=!1;for(let a=this.subscriptions[i].length-1;a>=0;a--)this.subscriptions[i][a]===t&&(o=!0,delete this.subscriptions[i][a],this.subscriptions[i].splice(a,1),this.eventSource?.removeEventListener(i,t));o&&(this.subscriptions[i].length||delete this.subscriptions[i],s||this.hasSubscriptionListeners(i)||(s=!0))}this.hasSubscriptionListeners()?s&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){if(this.subscriptions=this.subscriptions||{},e)return!!this.subscriptions[e]?.length;for(let t in this.subscriptions)if(this.subscriptions[t]?.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!e?.isAbort)throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let s in this.subscriptions)(s+"?").startsWith(e)&&(t[s]=this.subscriptions[s]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t?.lastEventId,this.submitSubscriptions().then(async()=>{let s=3;for(;this.hasUnsentSubscriptions()&&s>0;)s--,await this.submitSubscriptions()}).then(()=>{for(let n of this.pendingConnects)n.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const s=this.getSubscriptionsByTopic("PB_CONNECT");for(let n in s)for(let i of s[n])i(e)}).catch(s=>{this.clientId="",this.connectErrorHandler(s)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let s of this.pendingConnects)s.reject(new ke(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),this.eventSource?.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let t of this.pendingConnects)t.resolve();this.pendingConnects=[]}}}class Hn extends nt{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let s=500;return(t=Object.assign({},e,t)).batch&&(s=t.batch,delete t.batch),this._getFullList(s,t)}async getList(e=1,t=30,s){return(s=Object.assign({method:"GET"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send(this.baseCrudPath,s).then(n=>(n.items=n.items?.map(i=>this.decode(i))||[],n))}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(s=>{if(!s?.items?.length)throw new ke({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return s.items[0]})}async getOne(e,t){if(!e)throw new ke({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(s=>this.decode(s))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(s=>this.decode(s))}async update(e,t,s){return s=Object.assign({method:"PATCH",body:t},s),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),s).then(n=>this.decode(n))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let s=[],n=async i=>this.getList(i,e||500,t).then(o=>{const a=o.items;return s=s.concat(a),a.length==o.perPage?n(i+1):s});return n(1)}}function ct(r,e,t,s){const n=s!==void 0;return n||t!==void 0?n?(console.warn(r),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,s),e):Object.assign(e,t):e}function Wr(r){r._resetAutoRefresh?.()}class Vo extends Hn{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,s){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,s)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const s=Object.assign({},e,t);return super.getFullList(s)}async getList(e=1,t=30,s){return super.getList(e,t,s)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,s){return super.update(e,t,s).then(n=>{if(this.client.authStore.record?.id===n?.id&&(this.client.authStore.record?.collectionId===this.collectionIdOrName||this.client.authStore.record?.collectionName===this.collectionIdOrName)){let i=Object.assign({},this.client.authStore.record.expand),o=Object.assign({},this.client.authStore.record,n);i&&(o.expand=Object.assign(i,n.expand)),this.client.authStore.save(this.client.authStore.token,o)}return n})}async delete(e,t){return super.delete(e,t).then(s=>(!s||this.client.authStore.record?.id!==e||this.client.authStore.record?.collectionId!==this.collectionIdOrName&&this.client.authStore.record?.collectionName!==this.collectionIdOrName||this.client.authStore.clear(),s))}authResponse(e){const t=this.decode(e?.record||{});return this.client.authStore.save(e?.token,t),Object.assign({},e,{token:e?.token||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,s){let n;s=Object.assign({method:"POST",body:{identity:e,password:t}},s),this.isSuperusers&&(n=s.autoRefreshThreshold,delete s.autoRefreshThreshold,s.autoRefresh||Wr(this.client));let i=await this.client.send(this.baseCollectionPath+"/auth-with-password",s);return i=this.authResponse(i),n&&this.isSuperusers&&function(a,c,u,d){Wr(a);const b=a.beforeSend,p=a.authStore.record,g=a.authStore.onChange((h,_)=>{(!h||_?.id!=p?.id||(_?.collectionId||p?.collectionId)&&_?.collectionId!=p?.collectionId)&&Wr(a)});a._resetAutoRefresh=function(){g(),a.beforeSend=b,delete a._resetAutoRefresh},a.beforeSend=async(h,_)=>{const x=a.authStore.token;if(_.query?.autoRefresh)return b?b(h,_):{url:h,sendOptions:_};let O=a.authStore.isValid;if(O&&Fn(a.authStore.token,c))try{await u()}catch{O=!1}O||await d();const R=_.headers||{};for(let S in R)if(S.toLowerCase()=="authorization"&&x==R[S]&&a.authStore.token){R[S]=a.authStore.token;break}return _.headers=R,b?b(h,_):{url:h,sendOptions:_}}}(this.client,n,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},s))),i}async authWithOAuth2Code(e,t,s,n,i,o,a){let c={method:"POST",body:{provider:e,code:t,codeVerifier:s,redirectURL:n,createData:i}};return c=ct("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",c,o,a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",c).then(u=>this.authResponse(u))}authWithOAuth2(...e){if(e.length>1||typeof e?.[0]=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code(e?.[0]||"",e?.[1]||"",e?.[2]||"",e?.[3]||"",e?.[4]||{},e?.[5]||{},e?.[6]||{});const t=e?.[0]||{};let s=null;t.urlCallback||(s=Vs(void 0));const n=new Wn(this.client);function i(){s?.close(),n.unsubscribe()}const o={},a=t.requestKey;return a&&(o.requestKey=a),this.listAuthMethods(o).then(c=>{const u=c.oauth2.providers.find(p=>p.name===t.provider);if(!u)throw new ke(new Error(`Missing or invalid provider "${t.provider}".`));const d=this.client.buildURL("/api/oauth2-redirect"),b=a?this.client.cancelControllers?.[a]:void 0;return b&&(b.signal.onabort=()=>{i()}),new Promise(async(p,g)=>{try{await n.subscribe("@oauth2",async O=>{const R=n.clientId;try{if(!O.state||R!==O.state)throw new Error("State parameters don't match.");if(O.error||!O.code)throw new Error("OAuth2 redirect error or missing code: "+O.error);const S=Object.assign({},t);delete S.provider,delete S.scopes,delete S.createData,delete S.urlCallback,b?.signal?.onabort&&(b.signal.onabort=null);const H=await this.authWithOAuth2Code(u.name,O.code,u.codeVerifier,d,t.createData,S);p(H)}catch(S){g(new ke(S))}i()});const h={state:n.clientId};t.scopes?.length&&(h.scope=t.scopes.join(" "));const _=this._replaceQueryParams(u.authURL+d,h);await(t.urlCallback||function(O){s?s.location.href=O:s=Vs(O)})(_)}catch(h){i(),g(new ke(h))}})}).catch(c=>{throw i(),c})}async authRefresh(e,t){let s={method:"POST"};return s=ct("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",s,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",s).then(n=>this.authResponse(n))}async requestPasswordReset(e,t,s){let n={method:"POST",body:{email:e}};return n=ct("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",n,t,s),this.client.send(this.baseCollectionPath+"/request-password-reset",n).then(()=>!0)}async confirmPasswordReset(e,t,s,n,i){let o={method:"POST",body:{token:e,password:t,passwordConfirm:s}};return o=ct("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",o,n,i),this.client.send(this.baseCollectionPath+"/confirm-password-reset",o).then(()=>!0)}async requestVerification(e,t,s){let n={method:"POST",body:{email:e}};return n=ct("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",n,t,s),this.client.send(this.baseCollectionPath+"/request-verification",n).then(()=>!0)}async confirmVerification(e,t,s){let n={method:"POST",body:{token:e}};return n=ct("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",n,t,s),this.client.send(this.baseCollectionPath+"/confirm-verification",n).then(()=>{const i=Bt(e),o=this.client.authStore.record;return o&&!o.verified&&o.id===i.id&&o.collectionId===i.collectionId&&(o.verified=!0,this.client.authStore.save(this.client.authStore.token,o)),!0})}async requestEmailChange(e,t,s){let n={method:"POST",body:{newEmail:e}};return n=ct("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",n,t,s),this.client.send(this.baseCollectionPath+"/request-email-change",n).then(()=>!0)}async confirmEmailChange(e,t,s,n){let i={method:"POST",body:{token:e,password:t}};return i=ct("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",i,s,n),this.client.send(this.baseCollectionPath+"/confirm-email-change",i).then(()=>{const o=Bt(e),a=this.client.authStore.record;return a&&a.id===o.id&&a.collectionId===o.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,s){const n=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(n.id,s).then(()=>!0)}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,s){return s=Object.assign({method:"POST",body:{otpId:e,password:t}},s),this.client.send(this.baseCollectionPath+"/auth-with-otp",s).then(n=>this.authResponse(n))}async impersonate(e,t,s){(s=Object.assign({method:"POST",body:{duration:t}},s)).headers=s.headers||{},s.headers.Authorization||(s.headers.Authorization=this.client.authStore.token);const n=new Cs(this.client.baseURL,new ys,this.client.lang),i=await n.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),s);return n.authStore.save(i?.token,this.decode(i?.record||{})),n}_replaceQueryParams(e,t={}){let s=e,n="";e.indexOf("?")>=0&&(s=e.substring(0,e.indexOf("?")),n=e.substring(e.indexOf("?")+1));const i={},o=n.split("&");for(const a of o){if(a=="")continue;const c=a.split("=");i[decodeURIComponent(c[0].replace(/\+/g," "))]=decodeURIComponent((c[1]||"").replace(/\+/g," "))}for(let a in t)t.hasOwnProperty(a)&&(t[a]==null?delete i[a]:i[a]=t[a]);n="";for(let a in i)i.hasOwnProperty(a)&&(n!=""&&(n+="&"),n+=encodeURIComponent(a.replace(/%20/g,"+"))+"="+encodeURIComponent(i[a].replace(/%20/g,"+")));return n!=""?s+"?"+n:s}}function Vs(r){if(typeof window>"u"||!window?.open)throw new ke(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,s=window.innerWidth,n=window.innerHeight;e=e>s?s:e,t=t>n?n:t;let i=s/2-e/2,o=n/2-t/2;return window.open(r,"popup_window","width="+e+",height="+t+",top="+o+",left="+i+",resizable,menubar=no")}class Zo extends Hn{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,s){return s=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},s),this.client.send(this.baseCrudPath+"/import",s).then(()=>!0)}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then(()=>!0)}}class Go extends nt{async getList(e=1,t=30,s){return(s=Object.assign({method:"GET"},s)).query=Object.assign({page:e,perPage:t},s.query),this.client.send("/api/logs",s)}async getOne(e,t){if(!e)throw new ke({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class Yo extends nt{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class Jo extends nt{getUrl(e,t,s={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,s)}getURL(e,t,s={}){if(!t||!e?.id||!e?.collectionId&&!e?.collectionName)return"";const n=[];n.push("api"),n.push("files"),n.push(encodeURIComponent(e.collectionId||e.collectionName)),n.push(encodeURIComponent(e.id)),n.push(encodeURIComponent(t));let i=this.client.buildURL(n.join("/"));if(Object.keys(s).length){s.download===!1&&delete s.download;const o=new URLSearchParams(s);i+=(i.includes("?")?"&":"?")+o}return i}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>t?.token||"")}}class Xo extends nt{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}class Qo extends nt{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/crons",e)}async run(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/crons/${encodeURIComponent(e)}`,t).then(()=>!0)}}function es(r){return typeof Blob<"u"&&r instanceof Blob||typeof File<"u"&&r instanceof File||r!==null&&typeof r=="object"&&r.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function ts(r){return r&&(r.constructor?.name==="FormData"||typeof FormData<"u"&&r instanceof FormData)}function Zs(r){for(const e in r){const t=Array.isArray(r[e])?r[e]:[r[e]];for(const s of t)if(es(s))return!0}return!1}const ea=/^[\-\.\d]+$/;function Gs(r){if(typeof r!="string")return r;if(r=="true")return!0;if(r=="false")return!1;if((r[0]==="-"||r[0]>="0"&&r[0]<="9")&&ea.test(r)){let e=+r;if(""+e===r)return e}return r}class ta extends nt{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new ra(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,s=[];for(let n=0;n<this.requests.length;n++){const i=this.requests[n];if(s.push({method:i.method,url:i.url,headers:i.headers,body:i.json}),i.files)for(let o in i.files){const a=i.files[o]||[];for(let c of a)t.append("requests."+n+"."+o,c)}}return t.append("@jsonPayload",JSON.stringify({requests:s})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class ra{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const s={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(s,t),this.requests.push(s)}create(e,t){t=Object.assign({body:e||{}},t);const s={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(s,t),this.requests.push(s)}update(e,t,s){s=Object.assign({body:t||{}},s);const n={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(n,s),this.requests.push(n)}delete(e,t){t=Object.assign({},t);const s={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(s,t),this.requests.push(s)}prepareRequest(e,t){if(ws(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const n=$n(t.query);n&&(e.url+=(e.url.includes("?")?"&":"?")+n)}let s=t.body;ts(s)&&(s=function(i){let o={};return i.forEach((a,c)=>{if(c==="@jsonPayload"&&typeof a=="string")try{let u=JSON.parse(a);Object.assign(o,u)}catch(u){console.warn("@jsonPayload error:",u)}else o[c]!==void 0?(Array.isArray(o[c])||(o[c]=[o[c]]),o[c].push(Gs(a))):o[c]=Gs(a)}),o}(s));for(const n in s){const i=s[n];if(es(i))e.files[n]=e.files[n]||[],e.files[n].push(i);else if(Array.isArray(i)){const o=[],a=[];for(const c of i)es(c)?o.push(c):a.push(c);if(o.length>0&&o.length==i.length){e.files[n]=e.files[n]||[];for(let c of o)e.files[n].push(c)}else if(e.json[n]=a,o.length>0){let c=n;n.startsWith("+")||n.endsWith("+")||(c+="+"),e.files[c]=e.files[c]||[];for(let u of o)e.files[c].push(u)}}else e.json[n]=i}}}class Cs{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,s="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=s,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new ys:this.authStore=new $o,this.collections=new Zo(this),this.files=new Jo(this),this.logs=new Go(this),this.settings=new Wo(this),this.realtime=new Wn(this),this.health=new Yo(this),this.backups=new Xo(this),this.crons=new Qo(this)}get admins(){return this.collection("_superusers")}createBatch(){return new ta(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new Vo(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let s in t){let n=t[s];switch(typeof n){case"boolean":case"number":n=""+n;break;case"string":n="'"+n.replace(/'/g,"\\'")+"'";break;default:n=n===null?"null":n instanceof Date?"'"+n.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(n).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+s+"}",n)}return e}getFileUrl(e,t,s={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,s)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=window.location.origin?.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let s=this.buildURL(e);if(this.beforeSend){const n=Object.assign({},await this.beforeSend(s,t));n.url!==void 0||n.options!==void 0?(s=n.url||s,t=n.options||t):Object.keys(n).length&&(t=n,console?.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const n=$n(t.query);n&&(s+=(s.includes("?")?"&":"?")+n),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(s,t).then(async n=>{let i={};try{i=await n.json()}catch{}if(this.afterSend&&(i=await this.afterSend(n,i,t)),n.status>=400)throw new ke({url:n.url,status:n.status,data:i});return i}).catch(n=>{throw new ke(n)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=function(n){if(typeof FormData>"u"||n===void 0||typeof n!="object"||n===null||ts(n)||!Zs(n))return n;const i=new FormData;for(const o in n){const a=n[o];if(a!==void 0)if(typeof a!="object"||Zs({data:a})){const c=Array.isArray(a)?a:[a];for(let u of c)i.append(o,u)}else{let c={};c[o]=a,i.append("@jsonPayload",JSON.stringify(c))}}return i}(t.body),ws(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||ts(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const s=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(s);const n=new AbortController;this.cancelControllers[s]=n,t.signal=n.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let s in e)if(s.toLowerCase()==t)return e[s];return null}}const m=Ge({init:!1,mainColor:"c5a103",dotColor:"f8fBf8",backgroundColor:"1a1a1a",hoverColor:"947900",textColor:"f8f8f8",titleColor:"f8f8f8",inactiveColor:"252525",activeColor:"2f2f2f",blurRadius:"5",gap:"10",noteWidth:"500",imageWidth:"500",experimental:!0,pocket:new Cs("https://georgeeggers.xyz"),url:"https://georgeeggers.xyz"}),sa=r=>{try{m.pocket=new Cs(r)}catch(e){console.log("Error "+e+" logged in pocketbase.svelte.js")}};var na=M(`<textarea class="title svelte-1l08z91" placeholder="Title">
      </textarea>`),ia=M('<p1 class="title svelte-1l08z91"> </p1>'),oa=M('<textarea class="body svelte-1l08z91" placeholder="Content"></textarea>'),aa=M('<p1 class="body svelte-1l08z91"> </p1>'),la=M('<input type="file" style="visibility: hidden; position: fixed;" class="svelte-1l08z91"/>'),ca=M('<div class="imagePlaceholder svelte-1l08z91" style="flex-direction: row;"><svg class="bigSvg svelte-1l08z91" viewBox="0,0,1340,1340" fill="currentColor"><path d="M0,0M808,171 C808,171,1155,517,1155,517 C1168,530,1184,537,1201,537 C1218,537,1234,530,1247,517 C1260,504,1266,489,1266,471 C1266,454,1259,438,1246,425 C1246,425,790,-31,790,-31 C777,-44,761,-51,743,-51 C724,-51,708,-45,695,-32 C695,-32,690,-26,690,-26 C690,-26,249,421,249,421 C236,434,229,450,229,467 C229,485,236,501,249,514 C262,527,278,534,295,534 C312,534,328,527,341,514 C341,514,676,174,676,174 C676,174,676,941,676,941 C676,960,683,976,696,989 C709,1002,724,1008,742,1008 C761,1008,776,1002,789,989 C802,976,808,960,808,941 C808,941,808,171,808,171Z M1316,1156 C1316,1156,169,1156,169,1156 C150,1156,134,1162,121,1175 C108,1188,101,1204,101,1223 C101,1241,108,1256,121,1269 C134,1282,150,1289,169,1289 C169,1289,1316,1289,1316,1289 C1335,1289,1351,1282,1364,1269 C1377,1256,1383,1241,1383,1222 C1383,1204,1377,1188,1364,1175 C1351,1162,1335,1156,1316,1156Z " class="svelte-1l08z91"></path></svg></div>'),ua=M('<label class="imagePlaceholder hover svelte-1l08z91" style="flex-direction: row;">+</label>'),fa=M('<label class="imagePlaceholder svelte-1l08z91"><img class="thumbnailImage svelte-1l08z91" alt="thumbnail" draggable="false"/></label>'),da=(r,e,t,s)=>e(l(t).indexOf(l(s))),ha=(r,e,t,s)=>e(l(t).indexOf(l(s))),va=(r,e,t,s)=>e(l(t).indexOf(l(s))),pa=(r,e,t,s)=>e(l(t).indexOf(l(s))),ga=M('<label class="svelte-1l08z91"><svg fill="currentColor" class="bigSvg hover svelte-1l08z91" style="cursor: pointer" viewBox="0 0 1289 1289"><path d="M207,1228V65c-1-18,5-33,18-46S253,0,272,0s33,6,46,19c12,13,18,28,18,46l1,1163c0,17-6,32-19,43-13,12-28,18-46,18s-33-6-46-17-19-26-19-44ZM922,1228V65c0-18,6-33,19-46S969,0,988,0s33,6,46,19c12,13,18,28,18,46l1,1163c0,17-6,32-19,43-13,12-28,18-46,18s-34-6-47-17-19-26-19-44Z" class="svelte-1l08z91"></path></svg></label>'),ba=M('<label class="svelte-1l08z91"><svg fill="currentColor" class="bigSvg hover svelte-1l08z91" style="cursor: pointer" viewBox="0 0 1289 1289"><path d="M7.5,1235V62c0-12,2-21,6-26,5-11,13-20,23-26C46.5,3,57.5,0,68.5,0s19,2,30,7l1150,574c12,5,22,13,29,24,7,10,10,22,10,35s-3,25-10,36-17,19-30,24L98.5,1290c-7,3-14,5-21,5-11,0-23-3-36-10-22-11-33-28-34-50ZM1079.5,643L121.5,161v972l958-490Z" class="svelte-1l08z91"></path></svg></label>'),_a=M('<label class="imagePlaceholder svelte-1l08z91"><audio class="svelte-1l08z91"><source class="svelte-1l08z91"/></audio> <button style="visibility: hidden; position: fixed;" class="svelte-1l08z91">Play</button> <button style="visibility: hidden; position: fixed;" class="svelte-1l08z91">Pause</button> <button style="visibility: hidden; position: fixed;" class="svelte-1l08z91">Back</button> <button style="visibility: hidden; position: fixed;" class="svelte-1l08z91">Forward</button> <label class="svelte-1l08z91"><svg fill="currentColor" class="mediumSvg hover svelte-1l08z91" style="cursor: pointer;" viewBox="0 0 1301 1301"><path d="M1125.5,650c0-71-13-138-40-201s-64-119-112-167-104-85-167-112c-63-26-130-39-201-39-134,0-250,49-347,146h127c18,0,33,6,46,19s19,28,19,45-6,34-19,47-28,20-46,19H109.5c-18,0-33-6-46-19s-19-28-19-46V72c0-19,6-34,19-47,13-12,28-18,46-18s33,6,46,18c13,13,19,28,19,47v104C295.5,59,439.5,0,604.5,0s173,17,252,50,149,80,209,140,107,129,141,208c33,79,50,163,50,252s-29,227-88,328c-28,49-62,93-101,132-39,40-83,74-131,102-49,29-101,51-156,66s-112,23-171,23c-87,0-169-16-248-48-79-31-151-79-215-143s-19-28-19-46,7-34,20-46c13-11,28-17,46-17s33,6,46,19c102,100,225,150,370,150s140-14,203-42c63-27,119-65,166-114,47-48,83-104,109-167,25-63,38-128,38-197Z" class="svelte-1l08z91"></path></svg></label> <!> <label class="svelte-1l08z91"><svg fill="currentColor" class="mediumSvg hover svelte-1l08z91" style="cursor: pointer;" viewBox="0 0 1301 1301"><path d="M174.9,650c0-71,13-138,40-201,27-63,64.1-119,112.1-167,48.1-48,104.1-85,167.2-112,63.1-26,130.2-39,201.2-39,134.2,0,250.3,49,347.4,146h-127.2c-18,0-33,6-46.1,19s-19,28-19,45,6,34,19,47,28,20,46.1,19h276.3c18,0,33-6,46.1-19s19-28,19-46V72c0-19-6-34-19-47-13-12-28-18-46.1-18s-33,6-46.1,18c-13,13-19,28-19,47v104C1005.9,59,861.8,0,696.6,0s-173.2,17-252.3,50-149.2,80-209.3,140c-60.1,60-107.1,129-141.2,208-33,79-50.1,163-50.1,252s29,227,88.1,328c28,49,62.1,93,101.1,132,39,40,83.1,74,131.2,102,49.1,29,101.1,51,156.2,66s112.1,23,171.2,23c87.1,0,169.2-16,248.3-48,79.1-31,151.2-79,215.3-143s19-28,19-46-7-34-20-46c-13-11-28-17-46.1-17s-33,6-46.1,19c-102.1,100-225.3,150-370.5,150s-140.2-14-203.2-42c-63.1-27-119.1-65-166.2-114-47.1-48-83.1-104-109.1-167-25-63-38-128-38-197Z" class="svelte-1l08z91"></path></svg></label> <div class="playbarContainer svelte-1l08z91"><div class="playbar svelte-1l08z91"></div></div></label> <p1 class="body svelte-1l08z91"> </p1>',1),ma=M('<label class="imagePlaceholder svelte-1l08z91"><svg class="bigSvg svelte-1l08z91" viewBox="0 0 1461 1461" fill="currentColor"><path d="M187,65v1332c0,19,7,35,22,48l8,6,3,2c8,4,17,7,26,8h1061c17-1,32-8,44-21,11-12,17-26,17-43v-884c0-17-6-32-18-45-4-5-8-9-13-13L904,27c-9-9-19-17-30-22-4-1-7-2-7-2l-12-3H251c-18,0-33,6-45,18s-19,28-19,47ZM799,553c9,11,20,19,33,23l12,2h394v753l-921,1V129l468,1v384c0,15,5,28,14,39ZM920,228l217,215h-217v-215Z" class="svelte-1l08z91"></path></svg></label> <p1 class="body svelte-1l08z91"> </p1>',1),ya=M("<!> <!>",1),wa=M('<textarea class="body svelte-1l08z91"></textarea> <button class="inlineButton hover svelte-1l08z91"><svg class="inlineSvg svelte-1l08z91" fill="currentColor" viewBox="0 0 1302 1302"><path d="M822.5,22C766.5,7,708.5,0,649.5,0s-117,7-172,22c-56,15-108,37-157,66-48,29-92,63-131,102-39,40-73,84-101,132C29.5,423,.5,533,.5,651s29,227,88,328c28,49,62,93,101,132,39,40,83,74,131,102,49,29,101,51,157,66s113,23,172,23,116-8,172-23,108-37,157-66c48-28,92-62,132-102s74-84,102-132c59-102,89-211,89-328s-30-226-89-329c-28-48-62-92-102-132-40-39-84-73-132-102-49-29-101-51-156-66ZM448.5,171c63-26,131-39,202-39s116,9,171,28,104,46,149,81L243.5,968l-3,4c-35-45-62-94-81-149-19-54-28-111-28-172s13-138,40-201,64-119,111-167,103-85,166-112ZM333.5,1064l729-729c35,45,61,94,80,147,19,54,28,110,28,169s-13,138-40,201-64,119-112,167-104,85-167,112-130,40-201,40-116-9-169-28c-54-18-103-44-148-79Z" class="svelte-1l08z91"></path></svg></button> <button class="inlineButton hover svelte-1l08z91"><svg class="inlineSvg svelte-1l08z91" fill="currentColor" viewBox="0 0 1293 1293"><path d="M708,581.5V66.5c0-19-6-34-19-47S660,.5,642,.5s-34,6-47,19-20,29-20,47v515H66c-19,0-34,7-47,20S0,630.5,0,649.5s7,32,20,45,28,20,46,20h509v512c0,19,7,34,20,47s28,19,47,19,34-7,47-20,19-28,19-46v-512h518c19,0,35-6,48-19s19-28,19-46-6-35-19-48-29-20-48-20h-518Z" class="svelte-1l08z91"></path></svg></button>',1),Ca=M('<p1 class="body svelte-1l08z91"> </p1>'),Sa=M('<span class="inline svelte-1l08z91"><button class="toggleTodo svelte-1l08z91">Toggle</button> <div class="todoBorder svelte-1l08z91"><label class="todoButton svelte-1l08z91"></label></div> <!></span>'),xa=M('<textarea class="body svelte-1l08z91"></textarea> <button class="inlineButton hover svelte-1l08z91"><svg class="inlineSvg svelte-1l08z91" fill="currentColor" viewBox="0 0 1302 1302"><path d="M822.5,22C766.5,7,708.5,0,649.5,0s-117,7-172,22c-56,15-108,37-157,66-48,29-92,63-131,102-39,40-73,84-101,132C29.5,423,.5,533,.5,651s29,227,88,328c28,49,62,93,101,132,39,40,83,74,131,102,49,29,101,51,157,66s113,23,172,23,116-8,172-23,108-37,157-66c48-28,92-62,132-102s74-84,102-132c59-102,89-211,89-328s-30-226-89-329c-28-48-62-92-102-132-40-39-84-73-132-102-49-29-101-51-156-66ZM448.5,171c63-26,131-39,202-39s116,9,171,28,104,46,149,81L243.5,968l-3,4c-35-45-62-94-81-149-19-54-28-111-28-172s13-138,40-201,64-119,111-167,103-85,166-112ZM333.5,1064l729-729c35,45,61,94,80,147,19,54,28,110,28,169s-13,138-40,201-64,119-112,167-104,85-167,112-130,40-201,40-116-9-169-28c-54-18-103-44-148-79Z" class="svelte-1l08z91"></path></svg></button> <button class="inlineButton hover svelte-1l08z91"><svg class="inlineSvg svelte-1l08z91" fill="currentColor" viewBox="0 0 1293 1293"><path d="M708,581.5V66.5c0-19-6-34-19-47S660,.5,642,.5s-34,6-47,19-20,29-20,47v515H66c-19,0-34,7-47,20S0,630.5,0,649.5s7,32,20,45,28,20,46,20h509v512c0,19,7,34,20,47s28,19,47,19,34-7,47-20,19-28,19-46v-512h518c19,0,35-6,48-19s19-28,19-46-6-35-19-48-29-20-48-20h-518Z" class="svelte-1l08z91"></path></svg></button>',1),Ea=M('<p1 class="body svelte-1l08z91"> </p1>'),ka=M('<textarea class="body svelte-1l08z91"></textarea> <button class="inlineButton hover svelte-1l08z91"><svg class="inlineSvg svelte-1l08z91" fill="currentColor" viewBox="0 0 1302 1302"><path d="M822.5,22C766.5,7,708.5,0,649.5,0s-117,7-172,22c-56,15-108,37-157,66-48,29-92,63-131,102-39,40-73,84-101,132C29.5,423,.5,533,.5,651s29,227,88,328c28,49,62,93,101,132,39,40,83,74,131,102,49,29,101,51,157,66s113,23,172,23,116-8,172-23,108-37,157-66c48-28,92-62,132-102s74-84,102-132c59-102,89-211,89-328s-30-226-89-329c-28-48-62-92-102-132-40-39-84-73-132-102-49-29-101-51-156-66ZM448.5,171c63-26,131-39,202-39s116,9,171,28,104,46,149,81L243.5,968l-3,4c-35-45-62-94-81-149-19-54-28-111-28-172s13-138,40-201,64-119,111-167,103-85,166-112ZM333.5,1064l729-729c35,45,61,94,80,147,19,54,28,110,28,169s-13,138-40,201-64,119-112,167-104,85-167,112-130,40-201,40-116-9-169-28c-54-18-103-44-148-79Z" class="svelte-1l08z91"></path></svg></button>',1),Oa=M('<p1 class="body svelte-1l08z91"> </p1>'),Ta=M('<span class="inline svelte-1l08z91"><p1 class="body svelte-1l08z91"></p1> <button class="toggleTodo svelte-1l08z91">Toggle</button> <div class="todoBorder svelte-1l08z91"><label class="todoButton svelte-1l08z91"></label></div> <!></span>'),za=M('<span class="inline svelte-1l08z91"><div class="todoBorder svelte-1l08z91"><label class="todoButton svelte-1l08z91"></label></div> <!></span> <!>',1),Ra=async(r,e)=>{l(e).todo.items.push(""),l(e).todo.values.push(!1)},Ia=M('<button class="inlineButton hover svelte-1l08z91"><svg class="inlineSvg svelte-1l08z91" fill="currentColor" viewBox="0 0 1293 1293"><path d="M708,581.5V66.5c0-19-6-34-19-47S660,.5,642,.5s-34,6-47,19-20,29-20,47v515H66c-19,0-34,7-47,20S0,630.5,0,649.5s7,32,20,45,28,20,46,20h509v512c0,19,7,34,20,47s28,19,47,19,34-7,47-20,19-28,19-46v-512h518c19,0,35-6,48-19s19-28,19-46-6-35-19-48-29-20-48-20h-518Z" class="svelte-1l08z91"></path></svg></button>'),La=M("<!> <!>",1),Pa=M('<p1 class="body svelte-1l08z91" style="color: #5f5f5f">Enabled</p1>'),Aa=M('<p1 class="body svelte-1l08z91" style="color: #5f5f5f">Disabled</p1>'),ja=M('<span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Max Note Width</p1></span> <span class="inline svelte-1l08z91"><textarea class="body svelte-1l08z91"></textarea> <p1 class="body svelte-1l08z91" style="color: #5f5f5f">px</p1></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Max Image Width</p1></span> <span class="inline svelte-1l08z91"><textarea class="body svelte-1l08z91"></textarea> <p1 class="body svelte-1l08z91" style="color: #5f5f5f">px</p1></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Cleanup Gap</p1></span> <span class="inline svelte-1l08z91"><textarea class="body svelte-1l08z91"></textarea> <p1 class="body svelte-1l08z91" style="color: #5f5f5f">px</p1></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Experimental Features</p1></span> <span class="inline svelte-1l08z91"><button class="toggleTodo svelte-1l08z91" id="experiment">Toggle</button> <div class="todoBorder svelte-1l08z91"><label for="experiment" class="todoButton svelte-1l08z91"></label></div> <!></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Note Server</p1></span> <span class="inline svelte-1l08z91"><textarea class="body svelte-1l08z91"></textarea></span>',1),Na=(r,e,t,s)=>e(t[t.indexOf(l(s))]),qa=M('<div class="inline svelte-1l08z91"><button class="body themeSelector svelte-1l08z91"> </button> <div class="styleExample svelte-1l08z91"></div> <div class="styleExample svelte-1l08z91"></div> <div class="styleExample svelte-1l08z91"></div> <div class="styleExample svelte-1l08z91"></div></div>'),Ma=M(`<span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Custom Theme</p1></span> <textarea class="body svelte-1l08z91">
      </textarea>`,1),Ua=M('<span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Main Color</p1></span> <span class="inline svelte-1l08z91"><p1 class="body svelte-1l08z91" style="color: #5f5f5f">#</p1> <textarea class="body svelte-1l08z91"></textarea> <div class="example svelte-1l08z91"></div></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Secondary Color</p1></span> <span class="inline svelte-1l08z91"><p1 class="body svelte-1l08z91" style="color: #5f5f5f">#</p1> <textarea class="body svelte-1l08z91"></textarea> <div class="example svelte-1l08z91"></div></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Background Color</p1></span> <span class="inline svelte-1l08z91"><p1 class="body svelte-1l08z91" style="color: #5f5f5f">#</p1> <textarea class="body svelte-1l08z91"></textarea> <div class="example svelte-1l08z91"></div></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Dot Color</p1></span> <span class="inline svelte-1l08z91"><p1 class="body svelte-1l08z91" style="color: #5f5f5f">#</p1> <textarea class="body svelte-1l08z91"></textarea> <div class="example svelte-1l08z91"></div></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Title Color</p1></span> <span class="inline svelte-1l08z91"><p1 class="body svelte-1l08z91" style="color: #5f5f5f">#</p1> <textarea class="body svelte-1l08z91"></textarea> <div class="example svelte-1l08z91"></div></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Text Color</p1></span> <span class="inline svelte-1l08z91"><p1 class="body svelte-1l08z91" style="color: #5f5f5f">#</p1> <textarea class="body svelte-1l08z91"></textarea> <div class="example svelte-1l08z91"></div></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Active Node Color</p1></span> <span class="inline svelte-1l08z91"><p1 class="body svelte-1l08z91" style="color: #5f5f5f">#</p1> <textarea class="body svelte-1l08z91"></textarea> <div class="example svelte-1l08z91"></div></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Inactive Node Color</p1></span> <span class="inline svelte-1l08z91"><p1 class="body svelte-1l08z91" style="color: #5f5f5f">#</p1> <textarea class="body svelte-1l08z91"></textarea> <div class="example svelte-1l08z91"></div></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Blur Radius</p1></span> <span class="inline svelte-1l08z91"><textarea class="body svelte-1l08z91"></textarea> <p1 class="body svelte-1l08z91" style="color: #5f5f5f">px</p1></span> <span class="inline svelte-1l08z91"><p1 class="title svelte-1l08z91">Select Theme</p1></span> <div class="themeContainer svelte-1l08z91"></div> <!>',1),Da=M("<div><!> <!></div>"),Ba=M('<div class="viewport svelte-1l08z91"></div>');function Fa(r,e){cs(e,!0);let t=he(Ge([])),s=he(-1),n=he(!1),i=he(0),o=he(0),a=1;nr(()=>{L(d,"MyTheme"),L(c,!0);const v={"--main-color":m.mainColor,"--dot-color":m.dotColor,"--bg-color":m.backgroundColor,"--hover-color":m.hoverColor,"--text-color":m.textColor,"--title-color":m.titleColor,"--inactive-color":m.inactiveColor,"--note-color":m.activeColor};for(const[f,P]of Object.entries(v))document.documentElement.style.setProperty(f,`#${P}`);document.documentElement.style.setProperty("--blur-radius",`${m.blurRadius}px`)}),nr(()=>{sa(m.url)});let c=he(!1);Ge([]);const u=async()=>{const v=JSON.parse(await localStorage.getItem("settings"));if(v!=null){m.mainColor=v.mainColor,m.dotColor=v.dotColor,m.backgroundColor=v.backgroundColor,m.hoverColor=v.hoverColor,m.textColor=v.textColor,m.experimental=v.experimental,m.titleColor=v.titleColor,m.inactiveColor=v.inactiveColor,m.activeColor=v.activeColor,m.noteWidth=v.noteWidth,m.imageWidth=v.imageWidth,m.url=v.url,m.blurRadius=v.blurRadius,m.gap=v.gap,L(d,v.theme,!0);for(let f of v.customs)p.push(JSON.parse(f))}};let d=he("Default");const b=async v=>{m.hoverColor=v.hoverColor,m.textColor=v.textColor,m.titleColor=v.titleColor,m.inactiveColor=v.inactiveColor,m.activeColor=v.activeColor,m.backgroundColor=v.backgroundColor,m.dotColor=v.dotColor,m.mainColor=v.mainColor,m.blurRadius=v.blurRadius,await zn,L(d,v.name,!0),L(c,!1)};let p=Ge([{name:"Default",backgroundColor:"1a1a1a",activeColor:"2f2f2f",inactiveColor:"252525",mainColor:"c5a103",hoverColor:"947900",textColor:"f8f8f8",titleColor:"f8f8f8",dotColor:"f8f8f8",blurRadius:"0"},{name:"Cyber",backgroundColor:"080808e0",activeColor:"151515",inactiveColor:"10101088",mainColor:"007f77",hoverColor:"006e55",textColor:"009f77",titleColor:"009f77",dotColor:"009f77",blurRadius:"7"},{name:"Light",backgroundColor:"f8f8f8",activeColor:"c8c8c8",inactiveColor:"e8e8e8",mainColor:"c5a103",hoverColor:"947900",textColor:"1a1a1a",titleColor:"1a1a1a",dotColor:"000000",blurRadius:"0"},{name:"Midnight",backgroundColor:"000000",activeColor:"1a1a1a",inactiveColor:"121212",mainColor:"f8f8f8",hoverColor:"f8f8f8",textColor:"ffffff",titleColor:"ffffff",dotColor:"000000",blurRadius:"0"},{name:"Mocha",backgroundColor:"1e1e2e",activeColor:"45475a",inactiveColor:"313244",mainColor:"ed8796",hoverColor:"ee99a0",textColor:"cdd6f4",titleColor:"b4befe",dotColor:"b4befe",blurRadius:"0"},{name:"Glassy",backgroundColor:"313244",activeColor:"f8f8f880",inactiveColor:"e0e0e080",mainColor:"ed8796",hoverColor:"ee99a0",textColor:"1a1a1a",titleColor:"0e0e0e",dotColor:"ed8796",blurRadius:"8"}]),g=v=>{l(n)&&(l(t)[l(s)].x=v.pageX+l(i),l(t)[l(s)].y=v.pageY+l(o))},h=async v=>{if(v.button==0&&l(n)&&(L(n,!1),document.removeEventListener("mousemove",g),l(t)[l(s)].x<0&&(l(t)[l(s)].x=0),l(t)[l(s)].y<0&&(l(t)[l(s)].y=0),l(t)[l(s)].x=Math.round(l(t)[l(s)].x/a)*a,l(t)[l(s)].y=Math.round(l(t)[l(s)].y/a)*a,l(t)[l(s)].type!="settings"&&l(t)[l(s)].type!="style"))try{const f=await m.pocket.collection("notes").update(l(t)[l(s)].id,l(t)[l(s)])}catch{console.log("Its yelling because of delete or repeat requests but we good non fatal error type stuff")}},_=async v=>{if(v.button==0){const f=v.target.closest(".mover");f!=null?f.id.split("-").length==2&&(L(s,parseInt(f.id.split("-")[1]),!0),L(i,l(t)[l(s)].x-v.pageX),L(o,l(t)[l(s)].y-v.pageY),L(n,!0),document.addEventListener("mousemove",g)):L(s,parseInt(v.currentTarget.id),!0)}};const x=v=>{l(S)&&window.scrollBy(v.movementX*-1,v.movementY*-1)},O=v=>{v.button==1&&l(n)?(L(n,!1),document.removeEventListener("mousemove",g),l(t)[l(s)].x<0&&(l(t)[l(s)].x=0),l(t)[l(s)].y<0&&(l(t)[l(s)].y=0)):v.button==2&&(v.preventDefault(),L(S,!0),document.addEventListener("mousemove",x))},R=v=>{v.button==2&&(L(S,!1),document.removeEventListener("mousemove",x))};let S=he(!1);Un(async()=>{await u(),L(c,!1);try{const f=await m.pocket.collection("notes").getFullList({sort:"-created"});L(t,f,!0);for(let P of l(t))P.editing=!1;await N(1e3),cr()}catch{C("Failed to connect to note server")}let v=document.getElementsByClassName("note");for(let f of v)f.addEventListener("mousedown",_),f.addEventListener("mouseup",h);m.init||(document.addEventListener("mousedown",O),document.addEventListener("mouseup",R),document.addEventListener("contextmenu",f=>{f.preventDefault()}),m.init=!0)});const H=v=>{for(let f of["jpg","jpeg","png","gif","bmp","tiff","tif","webp","heif","heic","ico","avif","psd","ai","eps","raw","cr2","nef"])if(f==v)return"image";for(let f of["wav","mp3","ogg"])if(f==v)return"audio";return"other"},E=v=>{let f=l(t)[v].image.split(".").reverse()[0];return{type:H(f.toLowerCase()),data:m.pocket.files.getURL(l(t)[v],l(t)[v].image)}},y=async v=>{console.log("deleting");let f=l(t)[v].id;l(t).splice(v,1),await m.pocket.collection("notes").delete(f),L(s,-1)},C=async v=>{let f=document.getElementById("notifArea"),P=document.createElement("div");P.style.cssText=`
      opacity: 0.0;
      transform: translateY(32px);
      transition: 
        opacity 500ms,
        transform 500ms
      ;
      background-color: var(--main-color);
      padding-left: 10px;
      padding-right: 10px;
      border-radius: 10px;
      width: fit-content;
      height: fit-content;
      box-sizing: border-box;
    `;let B=document.createElement("p1");B.style.cssText=`
      color: var(--text-color);      
    `,B.innerText=v,await P.appendChild(B),await f.appendChild(P),setTimeout(()=>{P.style.opacity="1.0",P.style.transform="translateY(0px)"},250),setTimeout(()=>{P.style.opacity="0.0",P.style.transform="translateY(-32px)"},3500),setTimeout(()=>{P.remove()},4e3)},D=v=>{for(let f of v)if(!f)return!1;return!0};function N(v){return new Promise(f=>setTimeout(f,v))}const ee=async v=>{};let He=0;const qe=(v,f)=>{let P=0;for(let B of f)v>=B.low&&v<=B.high&&B.output>P&&(P=B.output);return P},cr=async()=>{let v=!1;for(let T=l(t).length-1;T>=0;T--){let I=l(t)[T];I.title==""&&I.content==""&&I.image==""&&(I.todo==null||I.todo.items[0]=="")&&I.editing==!1&&(console.log(T),await y(T),v=!0)}v&&await N(550),He=0;let f=document.getElementsByClassName("note"),P=0,B=0,_e=[];for(let T of f)T.classList[1].toString()!="settingsType"&&T.classList[1].toString()!="styleType"&&(_e.push({area:T.offsetWidth*T.offsetHeight,width:T.offsetWidth,height:T.offsetHeight,id:T.id,flatness:T.offsetWidth/T.offsetHeight,x:0,y:0}),P+=T.offsetWidth,B+=T.offsetHeight);let ur=Math.round(1500/_e.length/2);_e.sort((T,I)=>T.flatness<I.flatness?1:T.flatness>I.flatness||T.height<I.height?-1:T.height>I.height?1:0);let Nr=P/Math.ceil(Math.sqrt(_e.length))*1.5,Jt=0;const me=parseInt(m.gap);let it=me,X=me,oe=0,Te=[],gt=[],ot=[];for(let T of[..._e]){Jt+=me+T.width;let I=parseInt(T.id);l(t)[I].y=X,l(t)[I].x=it,_e[_e.indexOf(T)].x=it,_e[_e.indexOf(T)].y=X,L(s,I,!0),oe==0&&(_e.splice(_e.indexOf(T),1),Te.push({low:it,high:T.width+it+me,output:X+T.height+me})),it+=me+T.width,T.height>He&&(He=T.height),await N(ur),ot.push(T),Jt>=Nr&&(Jt=0,X+=He+me,it=me,He=0,oe++,gt.push(ot),ot=[])}gt.push(ot);let se=[];for(let T=0;T<oe;T++){for(let I of gt[T+1]){let bt=qe(I.x,Te),_t=qe(I.x+I.width,Te),Me=parseInt(I.id);bt>_t?(l(t)[Me].y=bt,se.push({low:I.x,high:I.width+I.x+me,output:bt+I.height+me})):(l(t)[Me].y=_t,se.push({low:I.x,high:I.width+I.x+me,output:_t+I.height+me})),await N(ur)}for(let I of se)Te.push(I);se=[]}},It=(v,f,P)=>{f.style.setProperty("width",`${Math.floor(P.currentTime/P.duration*100)}%`)},vt=v=>{const f=document.getElementById(`b${v}`),P=document.getElementById(`a${v}`);P.addEventListener("ended",B=>pt(B)),P.removeEventListener("play",B=>Gt(v)),P.addEventListener("pause",B=>Yt(v)),P.addEventListener("timeupdate",B=>{It(B,f,P)})},pt=v=>{const f=document.getElementById(`b${v}`),P=document.getElementById(`a${v}`);P.removeEventListener("ended",B=>pt(B)),P.addEventListener("play",B=>Gt(v)),P.removeEventListener("pause",B=>Yt(v)),P.removeEventListener("timeupdate",B=>{It(B,f,P)})},Gt=async v=>{const f=document.getElementById(`a${v}`);await vt(v),l(t)[v].playing=!0,f.play()},Yt=async v=>{const f=document.getElementById(`a${v}`);await pt(v),l(t)[v].playing=!1,f.pause()},Kn=v=>{const f=document.getElementById(`a${v}`);f.currentTime-=15},Vn=v=>{const f=document.getElementById(`a${v}`);f.currentTime+=15};var xs=Ba();vr(xs,21,()=>l(t),v=>v.id,(v,f,P)=>{var B=Da(),_e=A(B);{var ur=X=>{var oe=na();re(oe,()=>l(f).title,Te=>l(f).title=Te),z(X,oe)},Nr=X=>{var oe=ia(),Te=A(oe);te(()=>lt(Te,l(f).title)),z(X,oe)};J(_e,X=>{l(f).editing?X(ur):X(Nr,!1)})}var Jt=w(_e,2);{var me=X=>{var oe=Ae(),Te=G(oe);{var gt=se=>{var T=oa();re(T,()=>l(f).content,I=>l(f).content=I),z(se,T)},ot=se=>{var T=aa(),I=A(T);te(()=>lt(I,l(f).content)),z(se,T)};J(Te,se=>{l(f).editing?se(gt):se(ot,!1)})}z(X,oe)},it=X=>{var oe=Ae(),Te=G(oe);{var gt=se=>{var T=ya(),I=G(T);{var bt=ve=>{var ze=la();te(()=>Z(ze,"id",`uploadTrigger${l(f).id??""}`)),z(ve,ze)};J(I,ve=>{l(f).editing&&ve(bt)})}var _t=w(I,2);{var Me=ve=>{var ze=Ae(),yt=G(ze);{var fe=k=>{var Q=ca();z(k,Q)},Se=k=>{var Q=ua();te(()=>Z(Q,"for",`uploadTrigger${l(f).id??""}`)),hr("dragover",Q,ye=>ye.preventDefault()),z(k,Q)};J(yt,k=>{l(f).uploading?k(fe):k(Se,!1)})}z(ve,ze)},mt=ve=>{var ze=Ae(),yt=G(ze);{var fe=k=>{var Q=fa(),ye=A(Q);te(Re=>{Z(Q,"for",`uploadTrigger${l(f).id??""}`),Z(ye,"src",Re)},[()=>E(l(t).indexOf(l(f))).data]),hr("dragover",Q,Re=>Re.preventDefault()),z(k,Q)},Se=k=>{var Q=Ae(),ye=G(Q);{var Re=ne=>{var de=_a(),Y=G(de),ae=A(Y),xe=A(ae),we=w(ae,2);we.__click=[da,Gt,t,f];var Ie=w(we,2);Ie.__click=[ha,Yt,t,f];var Ue=w(Ie,2);Ue.__click=[va,Kn,t,f];var le=w(Ue,2);le.__click=[pa,Vn,t,f];var K=w(le,2),U=w(K,2);{var $=pe=>{var Be=ga();te(()=>Z(Be,"for",`pause${l(f).id??""}`)),z(pe,Be)},Le=pe=>{var Be=ba();te(()=>Z(Be,"for",`play${l(f).id??""}`)),z(pe,Be)};J(U,pe=>{l(f).playing?pe($):pe(Le,!1)})}var De=w(U,2),Ke=w(De,2),wt=A(Ke),Lt=w(Y,2),Pt=A(Lt);te((pe,Be,Fe)=>{Z(Y,"for",`uploadTrigger${l(f).id??""}`),Z(ae,"id",`a${pe??""}`),Z(xe,"src",Be),Z(we,"id",`play${l(f).id??""}`),Z(Ie,"id",`pause${l(f).id??""}`),Z(Ue,"id",`back${l(f).id??""}`),Z(le,"id",`forward${l(f).id??""}`),Z(K,"for",`back${l(f).id??""}`),Z(De,"for",`forward${l(f).id??""}`),Z(wt,"id",`b${Fe??""}`),lt(Pt,l(f).image)},[()=>l(t).indexOf(l(f)),()=>E(l(t).indexOf(l(f))).data,()=>l(t).indexOf(l(f))]),hr("dragover",Y,pe=>pe.preventDefault()),z(ne,de)},Xe=ne=>{var de=ma(),Y=G(de),ae=w(Y,2),xe=A(ae);te(()=>{Z(Y,"for",`uploadTrigger${l(f).id??""}`),lt(xe,l(f).image)}),hr("dragover",Y,we=>we.preventDefault()),z(ne,de)};J(ye,ne=>{E(l(t).indexOf(l(f))).type=="audio"&&m.experimental?ne(Re):ne(Xe,!1)},!0)}z(k,Q)};J(yt,k=>{E(l(t).indexOf(l(f))).type=="image"?k(fe):k(Se,!1)})}z(ve,ze)};J(_t,ve=>{l(f).image==""?ve(Me):ve(mt,!1)})}z(se,T)},ot=se=>{var T=Ae(),I=G(T);{var bt=Me=>{var mt=La(),ve=G(mt);vr(ve,17,()=>l(f).todo.items,Ur,(fe,Se,k)=>{var Q=Ae(),ye=G(Q);{var Re=ne=>{var de=Sa(),Y=A(de);Y.__click=()=>{l(f).todo.values[k]=!l(f).todo.values[k],ee()};var ae=w(Y,2),xe=A(ae),we=w(ae,2);{var Ie=le=>{var K=wa(),U=G(K),$=w(U,2);$.__click=()=>{l(f).todo.items.splice(k,1),l(f).todo.values.splice(k,1)};var Le=w($,2);Le.__click=()=>{l(f).todo.values[k]={items:[""],values:[!1]}},re(U,()=>l(f).todo.items[k],De=>l(f).todo.items[k]=De),z(le,K)},Ue=le=>{var K=Ca(),U=A(K);te(()=>lt(U,l(f).todo.items[k])),z(le,K)};J(we,le=>{l(f).editing?le(Ie):le(Ue,!1)})}te(()=>{Z(Y,"id",`${l(f).id??""}choice${k}`),Z(xe,"for",`${l(f).id??""}choice${k}`),ie(xe,l(f).todo.values[k]?"background-color: var(--main-color)":"")}),z(ne,de)},Xe=ne=>{var de=za(),Y=G(de),ae=A(Y),xe=A(ae),we=w(ae,2);{var Ie=K=>{var U=xa(),$=G(U),Le=w($,2);Le.__click=()=>{l(f).todo.items.splice(k,1),l(f).todo.values.splice(k,1)};var De=w(Le,2);De.__click=async()=>{l(f).todo.values[k].items.push(""),l(f).todo.values[k].values.push(!1)},re($,()=>l(f).todo.items[k],Ke=>l(f).todo.items[k]=Ke),z(K,U)},Ue=K=>{var U=Ea(),$=A(U);te(()=>lt($,l(f).todo.items[k])),z(K,U)};J(we,K=>{l(f).editing?K(Ie):K(Ue,!1)})}var le=w(Y,2);vr(le,17,()=>l(f).todo.values[k].items,Ur,(K,U,$)=>{var Le=Ta(),De=A(Le);De.textContent=" ";var Ke=w(De,2);Ke.__click=()=>{l(f).todo.values[k].values[$]=!l(f).todo.values[k].values[$],ee()};var wt=w(Ke,2),Lt=A(wt),Pt=w(wt,2);{var pe=Fe=>{var at=ka(),At=G(at),fr=w(At,2);fr.__click=()=>{l(f).todo.values[k].items.splice($,1),l(f).todo.values[k].values.splice($,1),l(f).todo.values[k].items.length==0&&(l(f).todo.values[k]=!1)},re(At,()=>l(f).todo.values[k].items[$],qr=>l(f).todo.values[k].items[$]=qr),z(Fe,at)},Be=Fe=>{var at=Oa(),At=A(at);te(()=>lt(At,l(f).todo.values[k].items[$])),z(Fe,at)};J(Pt,Fe=>{l(f).editing?Fe(pe):Fe(Be,!1)})}te(()=>{Z(Ke,"id",`${l(f).id??""}choice${k}sub${$}`),Z(Lt,"for",`${l(f).id??""}choice${k}sub${$}`),ie(Lt,l(f).todo.values[k].values[$]?"background-color: var(--main-color)":"")}),z(K,Le)}),te(K=>{Z(xe,"for",`${l(f).id??""}choice${k}`),ie(xe,K)},[()=>D(l(f).todo.values[k].values)?"background-color: var(--main-color)":""]),z(ne,de)};J(ye,ne=>{typeof l(f).todo.values[k]=="boolean"?ne(Re):ne(Xe,!1)})}z(fe,Q)});var ze=w(ve,2);{var yt=fe=>{var Se=Ia();Se.__click=[Ra,f],z(fe,Se)};J(ze,fe=>{l(f).editing&&fe(yt)})}z(Me,mt)},_t=Me=>{var mt=Ae(),ve=G(mt);{var ze=fe=>{var Se=ja(),k=w(G(Se),2),Q=A(k),ye=w(k,4),Re=A(ye),Xe=w(ye,4),ne=A(Xe),de=w(Xe,4),Y=A(de);Y.__click=()=>{m.experimental=!m.experimental};var ae=w(Y,2),xe=A(ae),we=w(ae,2);{var Ie=U=>{var $=Pa();z(U,$)},Ue=U=>{var $=Aa();z(U,$)};J(we,U=>{m.experimental?U(Ie):U(Ue,!1)})}var le=w(de,4),K=A(le);te(()=>ie(xe,m.experimental?"background-color: var(--main-color)":"")),re(Q,()=>m.noteWidth,U=>m.noteWidth=U),re(Re,()=>m.imageWidth,U=>m.imageWidth=U),re(ne,()=>m.gap,U=>m.gap=U),re(K,()=>m.url,U=>m.url=U),z(fe,Se)},yt=fe=>{var Se=Ae(),k=G(Se);{var Q=ye=>{var Re=Ua(),Xe=w(G(Re),2),ne=w(A(Xe),2),de=w(ne,2),Y=w(Xe,4),ae=w(A(Y),2),xe=w(ae,2),we=w(Y,4),Ie=w(A(we),2),Ue=w(Ie,2),le=w(we,4),K=w(A(le),2),U=w(K,2),$=w(le,4),Le=w(A($),2),De=w(Le,2),Ke=w($,4),wt=w(A(Ke),2),Lt=w(wt,2),Pt=w(Ke,4),pe=w(A(Pt),2),Be=w(pe,2),Fe=w(Pt,4),at=w(A(Fe),2),At=w(at,2),fr=w(Fe,4),qr=A(fr),Es=w(fr,4);vr(Es,21,()=>p,Ur,(V,Ce)=>{var dr=qa(),jt=A(dr);jt.__click=[Na,b,p,Ce];var Yn=A(jt),ks=w(jt,2),Os=w(ks,2),Ts=w(Os,2),Jn=w(Ts,2);te(()=>{ie(jt,l(d)==l(Ce).name?"color: var(--main-color)":""),lt(Yn,l(Ce).name),ie(ks,`background-color: #${l(Ce).mainColor??""}; border: 2px solid #${l(Ce).textColor??""} !important;`),ie(Os,`background-color: #${l(Ce).hoverColor??""}; border: 2px solid #${l(Ce).textColor??""} !important;`),ie(Ts,`background-color: #${l(Ce).activeColor??""}; border: 2px solid #${l(Ce).textColor??""} !important;`),ie(Jn,`background-color: #${l(Ce).backgroundColor??""}; border: 2px solid #${l(Ce).textColor??""} !important;`)}),z(V,dr)});var Zn=w(Es,2);{var Gn=V=>{var Ce=Ma(),dr=w(G(Ce),2);re(dr,()=>l(d),jt=>L(d,jt)),z(V,Ce)};J(Zn,V=>{l(c)&&V(Gn)})}te(()=>{ie(de,`background-color: #${m.mainColor??""}`),ie(xe,`background-color: #${m.hoverColor??""}`),ie(Ue,`background-color: #${m.backgroundColor??""}`),ie(U,`background-color: #${m.dotColor??""}`),ie(De,`background-color: #${m.titleColor??""}`),ie(Lt,`background-color: #${m.textColor??""}`),ie(Be,`background-color: #${m.activeColor??""}`),ie(At,`background-color: #${m.inactiveColor??""}`)}),re(ne,()=>m.mainColor,V=>m.mainColor=V),re(ae,()=>m.hoverColor,V=>m.hoverColor=V),re(Ie,()=>m.backgroundColor,V=>m.backgroundColor=V),re(K,()=>m.dotColor,V=>m.dotColor=V),re(Le,()=>m.titleColor,V=>m.titleColor=V),re(wt,()=>m.textColor,V=>m.textColor=V),re(pe,()=>m.activeColor,V=>m.activeColor=V),re(at,()=>m.inactiveColor,V=>m.inactiveColor=V),re(qr,()=>m.blurRadius,V=>m.blurRadius=V),z(ye,Re)};J(k,ye=>{l(f).type=="style"&&ye(Q)},!0)}z(fe,Se)};J(ve,fe=>{l(f).type=="settings"?fe(ze):fe(yt,!1)},!0)}z(Me,mt)};J(I,Me=>{l(f).type=="list"?Me(bt):Me(_t,!1)},!0)}z(se,T)};J(Te,se=>{l(f).type=="image"?se(gt):se(ot,!1)},!0)}z(X,oe)};J(Jt,X=>{l(f).type=="note"?X(me):X(it,!1)})}te((X,oe)=>{_o(B,1,`note ${l(f).type??""}Type`,"svelte-1l08z91"),Z(B,"id",X),ie(B,`left: ${l(f).x??""}px; top: ${l(f).y??""}px; ${oe??""} max-width: ${(l(f).type=="image"?m.imageWidth:l(f).type=="note"?m.noteWidth:"1000000")??""}px;`)},[()=>l(t).indexOf(l(f)).toString(),()=>l(s)==l(t).indexOf(l(f))?"background-color: var(--note-color); z-index: 2;":""]),Oo(3,B,()=>Mo,()=>({duration:500})),z(v,B)}),z(r,xs),us()}lo(["click"]);const $a={"/":Fa};function Wa(r,e){if(r instanceof RegExp)return{keys:!1,pattern:r};var t,s,n,i,o=[],a="",c=r.split("/");for(c[0]||c.shift();n=c.shift();)t=n[0],t==="*"?(o.push("wild"),a+="/(.*)"):t===":"?(s=n.indexOf("?",1),i=n.indexOf(".",1),o.push(n.substring(1,~s?s:~i?i:n.length)),a+=~s&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~s?"?":"")+"\\"+n.substring(i))):a+="/"+n;return{keys:o,pattern:new RegExp("^"+a+"/?$","i")}}function Ys(){const r=window.location.href.indexOf("#/");let e=r>-1?window.location.href.substr(r+1):"/";const t=e.indexOf("?");let s="";return t>-1&&(s=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:s}}const Ss=Nn(null,function(e){e(Ys());const t=()=>{e(Ys())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});Mn(Ss,r=>r.location);Mn(Ss,r=>r.querystring);const Js=qn(void 0);function Ha(r){r?window.scrollTo(r.__svelte_spa_router_scrollX,r.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Ka(r,e){cs(e,!1);let t=$r(e,"routes",24,()=>({})),s=$r(e,"prefix",8,""),n=$r(e,"restoreScrollState",8,!1);class i{constructor(y,C){if(!C||typeof C!="function"&&(typeof C!="object"||C._sveltesparouter!==!0))throw Error("Invalid component object");if(!y||typeof y=="string"&&(y.length<1||y.charAt(0)!="/"&&y.charAt(0)!="*")||typeof y=="object"&&!(y instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:D,keys:N}=Wa(y);this.path=y,typeof C=="object"&&C._sveltesparouter===!0?(this.component=C.component,this.conditions=C.conditions||[],this.userData=C.userData,this.props=C.props||{}):(this.component=()=>Promise.resolve(C),this.conditions=[],this.props={}),this._pattern=D,this._keys=N}match(y){if(s()){if(typeof s()=="string")if(y.startsWith(s()))y=y.substr(s().length)||"/";else return null;else if(s()instanceof RegExp){const ee=y.match(s());if(ee&&ee[0])y=y.substr(ee[0].length)||"/";else return null}}const C=this._pattern.exec(y);if(C===null)return null;if(this._keys===!1)return C;const D={};let N=0;for(;N<this._keys.length;){try{D[this._keys[N]]=decodeURIComponent(C[N+1]||"")||null}catch{D[this._keys[N]]=null}N++}return D}async checkConditions(y){for(let C=0;C<this.conditions.length;C++)if(!await this.conditions[C](y))return!1;return!0}}const o=[];t()instanceof Map?t().forEach((E,y)=>{o.push(new i(y,E))}):Object.keys(t()).forEach(E=>{o.push(new i(E,t()[E]))});let a=yr(null),c=yr(null),u=yr({});const d=Ao();async function b(E,y){await zn(),d(E,y)}let p=null,g=null;n()&&(g=E=>{E.state&&(E.state.__svelte_spa_router_scrollY||E.state.__svelte_spa_router_scrollX)?p=E.state:p=null},window.addEventListener("popstate",g),jo(()=>{Ha(p)}));let h=null,_=null;const x=Ss.subscribe(async E=>{h=E;let y=0;for(;y<o.length;){const C=o[y].match(E.location);if(!C){y++;continue}const D={route:o[y].path,location:E.location,querystring:E.querystring,userData:o[y].userData,params:C&&typeof C=="object"&&Object.keys(C).length?C:null};if(!await o[y].checkConditions(D)){L(a,null),_=null,b("conditionsFailed",D);return}b("routeLoading",Object.assign({},D));const N=o[y].component;if(_!=N){N.loading?(L(a,N.loading),_=N,L(c,N.loadingParams),L(u,{}),b("routeLoaded",Object.assign({},D,{component:l(a),name:l(a).name,params:l(c)}))):(L(a,null),_=null);const ee=await N();if(E!=h)return;L(a,ee&&ee.default||ee),_=N}C&&typeof C=="object"&&Object.keys(C).length?L(c,C):L(c,null),L(u,o[y].props),b("routeLoaded",Object.assign({},D,{component:l(a),name:l(a).name,params:l(c)})).then(()=>{Js.set(l(c))});return}L(a,null),_=null,Js.set(void 0)});Lo(()=>{x(),g&&window.removeEventListener("popstate",g)}),Zi(()=>In(n()),()=>{history.scrollRestoration=n()?"manual":"auto"}),Gi(),To();var O=Ae(),R=G(O);{var S=E=>{var y=Ae(),C=G(y);Us(C,()=>l(a),(D,N)=>{N(D,Ws({get params(){return l(c)}},()=>l(u),{$$events:{routeEvent(ee){$s.call(this,e,ee)}}}))}),z(E,y)},H=E=>{var y=Ae(),C=G(y);Us(C,()=>l(a),(D,N)=>{N(D,Ws(()=>l(u),{$$events:{routeEvent(ee){$s.call(this,e,ee)}}}))}),z(E,y)};J(R,E=>{l(c)?E(S):E(H,!1)})}z(r,O),us()}function Va(r){Ka(r,{get routes(){return $a}})}uo(Va,{target:document.getElementById("app")});
